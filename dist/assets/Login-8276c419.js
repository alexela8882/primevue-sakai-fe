import{D as $,r as p,a as P,x as L,u as B,I as j,c,o as v,j as g,e as s,f as n,l as w,n as y,t as b,m as h,q as S,E as T,G as U}from"./index-0f359a5b.js";const A="/demo/images/login/avatar.png";const i=d=>(T("data-v-69cf4396"),d=d(),U(),d),K={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},N={class:"flex flex-column align-items-center justify-content-center"},D=["src"],R={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},q={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},z=i(()=>s("div",{class:"text-center mb-5"},[s("img",{src:A,alt:"Image",height:"50",class:"mb-3"}),s("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome, Isabel!"),s("span",{class:"text-600 font-medium"},"Sign in to continue")],-1)),F={class:"flex flex-column gap-2 mb-5"},G=i(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Email",-1)),M={key:0,class:"text-red-600"},W={class:"flex flex-column gap-2 mb-5"},H=i(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Password",-1)),J={key:0,class:"text-red-600"},O={class:"flex align-items-center justify-content-between mb-5 gap-5"},Q={class:"flex align-items-center"},X=i(()=>s("label",{for:"rememberme1"},"Remember me",-1)),Y=i(()=>s("a",{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},"Forgot password?",-1)),Z={__name:"Login",setup(d){const t=p(!1),u=P(),{layoutConfig:k}=L(),f=B(),e=p({email:{value:null,error:null},password:{value:null,error:null}}),_=p(!1);localStorage.getItem("isAuthenticated");const m=async()=>{t.value=!0,e.value.email.error=null,e.value.password.error=null;const r=e.value.email.value,a=e.value.password.value;(r===""||r===null)&&(e.value.email.error="Enter your email"),(a===""||a===null)&&(e.value.password.error="Enter your password"),await S.post("/login",{email:r,password:a}).then(l=>{localStorage.clear(),localStorage.setItem("token",l.data.data.token),localStorage.setItem("auth_id",l.data.data._id),localStorage.setItem("isAuthenticated",!0),f.push({path:"/"}),t.value=!1,u.add({severity:"success",summary:"Success",detail:l.data.message,life:3e3})}).catch(l=>{l&&(console.log(l),u.add({severity:"error",summary:"Error",detail:l.response.data.message,life:3e3})),t.value=!1})},I=async()=>{e.value.email.error=null,e.value.password.error=null;const r=e.value.email.value,a=e.value.password.value;(r===""||r===null)&&(e.value.email.error="Enter your email"),(a===""||a===null)&&(e.value.password.error="Enter your password"),await S.get("/passwordless-login",{email:r,password:a}).then(l=>{localStorage.clear(),localStorage.setItem("token",l.data.data.token),localStorage.setItem("auth_id",l.data.data._id),localStorage.setItem("isAuthenticated",!0),f.push({path:"/"}),t.value=!1,u.add({severity:"success",summary:"Success",detail:l.data.message,life:3e3})}).catch(l=>{l&&(console.log(l),u.add({severity:"error",summary:"Error",detail:l.response.data.message,life:3e3}))})},E=j(()=>`layout/images/${k.darkTheme.value?"logo-white":"logo-dark"}.svg`);return(r,a)=>{const l=c("InputText"),V=c("Password"),C=c("Checkbox"),x=c("Button");return v(),g("div",K,[s("div",N,[s("img",{src:E.value,alt:"Sakai logo",class:"mb-5 w-6rem flex-shrink-0"},null,8,D),s("div",R,[s("div",q,[z,s("div",null,[s("div",F,[G,n(l,{onKeypress:a[0]||(a[0]=w(o=>m(),["enter"])),disabled:t.value,type:"text",placeholder:"Email address",class:y(["w-full md:w-30rem",`${e.value.email.error&&"p-invalid"}`]),style:{padding:"1rem"},modelValue:e.value.email.value,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.email.value=o)},null,8,["disabled","class","modelValue"]),e.value.email.error?(v(),g("small",M,b(e.value.email.error),1)):h("",!0)]),s("div",W,[H,n(V,{onKeypress:a[2]||(a[2]=w(o=>m(),["enter"])),disabled:t.value,modelValue:e.value.password.value,"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.password.value=o),placeholder:"Password",toggleMask:!0,class:y(["w-full",`${e.value.password.error&&"p-invalid"}`]),inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["disabled","modelValue","class"]),e.value.password.error?(v(),g("small",J,b(e.value.password.error),1)):h("",!0)]),s("div",O,[s("div",Q,[n(C,{disabled:t.value,modelValue:_.value,"onUpdate:modelValue":a[4]||(a[4]=o=>_.value=o),id:"rememberme1",binary:"",class:"mr-2"},null,8,["disabled","modelValue"]),X]),Y]),n(x,{loading:t.value,onClick:a[5]||(a[5]=o=>m()),label:`${t.value?"Signing in...":"Sign In"}`,class:"w-full p-3 text-xl mb-5"},null,8,["loading","label"]),n(x,{onClick:a[6]||(a[6]=o=>I()),label:"Passwordless Sign In",class:"w-full p-3 text-xl",severity:"success"})])])])])])}}},ae=$(Z,[["__scopeId","data-v-69cf4396"]]);export{ae as default};
