import{D as N,r,A as $,c as i,o as f,j as C,e as a,f as l,w as d,g as V,F as B,k as M,d as U,t as j,L as F,E as L,G as O}from"./index-c3bf9430.js";const S=o=>(L("data-v-4ecd6450"),o=o(),O(),o),z={class:"flex flex-column gap-3"},A={class:"flex justify-content-between"},E={class:"flex gap-3"},K={class:"p-input-icon-left"},G=S(()=>a("i",{class:"pi pi-search"},null,-1)),q={class:"p-float-label"},H=S(()=>a("label",null,"Selected fields",-1)),J={class:"p-buttonset"},Q={__name:"DataTable",props:{localLoading:Boolean,data:Object},setup(o){const x=o,b=r([]),m=r([]),y=r([]),h=r([]),p=r({global:{value:null,matchMode:F.CONTAINS}});return $(()=>x.data.fields,(c,t)=>{b.value=c,c.map(n=>{n.default&&m.value.push(n);let s=n.related?n.field+".name":n.field;p.value[s]=Object.assign({},{value:null,matchMode:F.CONTAINS}),h.value.push(s)})}),(c,t)=>{const n=i("font-awesome-icon"),s=i("Button"),g=i("InputText"),I=i("MultiSelect"),v=i("Column"),k=i("DataTable",!0),D=i("Card");return f(),C("div",z,[a("div",A,[a("div",E,[l(s,{onClick:t[0]||(t[0]=e=>c.$emit("add-item"))},{default:d(()=>[l(n,{icon:"fa-solid fa-plus"}),V(" Â Add ")]),_:1}),a("span",K,[G,l(g,{class:"w-full md:w-24rem",modelValue:p.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value.global.value=e),placeholder:"Keyword search"},null,8,["modelValue"])])]),a("div",null,[a("span",q,[l(I,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),options:b.value,optionDisabled:"",optionLabel:"field",size:"small",showClear:"",class:"w-full md:w-14rem"},null,8,["modelValue","options"]),H])])]),a("div",null,[l(D,null,{content:d(()=>[l(k,{filters:p.value,"onUpdate:filters":t[3]||(t[3]=e=>p.value=e),selection:y.value,"onUpdate:selection":t[4]||(t[4]=e=>y.value=e),value:o.data.table,dataKey:"_id",loading:o.localLoading,filterDisplay:"row",globalFilterFields:h.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem"},{empty:d(()=>[V(" No items found.")]),default:d(()=>[l(v,{selectionMode:"multiple",headerStyle:"width: 3rem"}),(f(!0),C(B,null,M(m.value,(e,_)=>(f(),U(v,{key:_,sortable:"",header:e.label,field:e.related?e.field+".name":e.field,filterField:e.related?e.field+".name":e.field},{filter:d(({filterModel:u,filterCallback:T})=>[l(g,{modelValue:u.value,"onUpdate:modelValue":w=>u.value=w,type:"text",onInput:w=>T(),class:"p-column-filter",placeholder:`Search by ${e.field}`},null,8,["modelValue","onUpdate:modelValue","onInput","placeholder"])]),body:d(u=>[a("div",null,j(typeof u.data[e.field]=="object"?u.data[e.field].name:u.data[e.field]),1)]),_:2},1032,["header","field","filterField"]))),128)),l(v,{exportable:!1,style:{"min-width":"10rem"}},{body:d(e=>[a("span",J,[l(s,{icon:"pi pi-eye",size:"small",severity:"primary"}),l(s,{icon:"pi pi-pencil",size:"small",severity:"secondary",onClick:_=>c.$emit("edit-item",e.data)},null,8,["onClick"]),l(s,{icon:"pi pi-trash",size:"small",severity:"danger",onClick:_=>c.$emit("delete-item",e.data)},null,8,["onClick"])])]),_:1})]),_:1},8,["filters","selection","value","loading","globalFilterFields"])]),_:1})])])}}},W=N(Q,[["__scopeId","data-v-4ecd6450"]]);export{W as D};
