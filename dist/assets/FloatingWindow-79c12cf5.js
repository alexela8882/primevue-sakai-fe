import{I as M,J as j,r as _,K as R,B as G,s as z,E as J,G as b,c as u,o as t,j as l,i as d,e as n,f as m,m as c,F as K,k as q,w as a,d as y,a1 as B,t as p,n as V}from"./index-54e8fe55.js";const H={class:"z-3 fixed bottom-0 right-0 mx-3 p-2 flex justify-content-end align-items-center"},Q={key:0,class:"align-self-end mr-2"},X={style:{width:"35vw"}},Y={class:"flex align-items-center gap-2 ml-2"},Z=n("div",{class:"material-icons",style:{"font-size":"12px"}},"open_in_full",-1),ee=n("div",{class:"material-icons",style:{"font-size":"12px"}},"close",-1),oe=["onClick"],te={class:"flex align-items-center gap-2 text-xl font-bold"},ne={key:0,class:"material-icons"},le={key:2},se={class:"flex align-items-center gap-2 text-xl font-bold"},ie={key:0,class:"material-icons"},ae={key:2},de={style:{height:"70vh !important"},class:"m-0 p-0 floating-window-content overflow-y-scroll overflow-x-hidden"},pe={__name:"FloatingWindow",setup(ce){const W=M(()=>j(()=>import("./FloatingWindowContent-f72d5c6c.js"),["assets/FloatingWindowContent-f72d5c6c.js","assets/index-54e8fe55.js","assets/index-d5e7f8f7.css","assets/DataTableLoader-ee2ea988.js"]));_();const v=_(),h=_([]),w=_([]),x=R(),$=G(),{tabDialog:re,xTabsLoading:N,getTabs:P,getWinTabs:k,getOpenedWinTabs:me}=z(x),{removeTab:S,toggleWindows:D,sortTabs:_e,maximizeTab:F,minimizeTab:A}=x,{getModuleByName:T}=z($),E=async o=>{await S(o)},I=o=>{console.log(o)},L=(o,i)=>{console.log(o.value),i.expanded=!o.value},O=async o=>{await F(o)};return J(async()=>{}),b(()=>v.value,async(o,i)=>{await D(o)}),b(P.value,(o,i)=>{h.value=o.filter(s=>s.style=="window");let g=h.value.filter(s=>s.opened).sort((s,f)=>s.opened_order-f.opened_order);w.value=g}),(o,i)=>{const g=u("Dropdown"),s=u("Button"),f=u("Panel"),U=u("BlockUI");return t(),l("div",H,[d(k).length>2?(t(),l("div",Q,[n("div",null,[m(g,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=e=>v.value=e),options:d(k),optionLabel:"label",checkmark:"",highlightOnSelect:!1},null,8,["modelValue","options"])])])):c("",!0),(t(!0),l(K,null,q(w.value,(e,C)=>(t(),l("div",{class:"px-1 align-self-end",key:C},[m(U,{blocked:d(N)},{default:a(()=>[n("div",X,[m(f,{toggleable:"","onUpdate:collapsed":i[1]||(i[1]=r=>I(r)),onToggle:r=>L(r,e),collapsed:!e.expanded,class:"floating-window h-full shadow-4"},{icons:a(()=>[n("div",Y,[m(s,{onClick:r=>O(e),text:"",rounded:""},{icon:a(()=>[Z]),_:2},1032,["onClick"]),m(s,{onClick:r=>E(e),text:"",rounded:""},{icon:a(()=>[ee]),_:2},1032,["onClick"])])]),togglericon:a(()=>[m(s,{text:"",rounded:""},{icon:a(()=>[n("div",{onClick:r=>d(A)(e),class:"material-icons",style:{"font-size":"12px"}},"minimize",8,oe)]),_:2},1024)]),header:a(()=>[(t(),y(B,{to:`${e.maximized?".global-dialog-header":".hidden-div"}`},[n("div",te,[e.type==="module-form"||e.type==="module"?(t(),l("div",ne,p(d(T)(e._module).icon),1)):c("",!0),e.type==="static-form"?(t(),l("div",{key:1,class:V(`pi pi-${e.icon}`)},null,2)):c("",!0),n("div",null,p(e.label),1),e.type==="module-form"?(t(),l("div",le,"(New)")):c("",!0)])],8,["to"])),n("div",se,[e.type==="module-form"||e.type==="module"?(t(),l("div",ie,p(d(T)(e._module).icon),1)):c("",!0),e.type==="static-form"?(t(),l("div",{key:1,class:V(`pi pi-${e.icon}`)},null,2)):c("",!0),n("div",null,p(e.label),1),e.type==="module-form"?(t(),l("div",ae,"(New)")):c("",!0)])]),default:a(()=>[n("div",de,[(t(),y(B,{disabled:!e.maximized,to:`${e.maximized?".fw-dialog-content":".hidden-div"}`},[(t(),y(d(W),{key:C,tab:e},null,8,["tab"]))],8,["disabled","to"]))])]),_:2},1032,["onToggle","collapsed"])])]),_:2},1032,["blocked"])]))),128))])}}};export{pe as default};
