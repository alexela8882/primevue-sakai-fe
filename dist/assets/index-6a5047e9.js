import{M as m,a as f,r as o,v as n,q as d}from"./index-dd487e2b.js";const _=m("activityLogStore",()=>{const r=f();o("http://localhost:3000"),o("http://localhost/api");const u=o([]),e=o([]),v=n(()=>u.value),c=n(()=>e.value);return{saveActivityLog:async s=>{const i=s.be_nec.uri,a=s.be_nec.method,t=await d(i,{method:a,headers:{"Content-Type":"application/json"},data:s.fields});if(t&&t.status===200){if(e.value&&e.value.length<=0)e.value=t.data.data;else{const l=t.data.data&&t.data.data[0].date,y=t.data.data&&t.data.data[0].items[0],g=c.value.findIndex(h=>h.date===l);c.value[g].items.push(y)}return r.add({severity:"success",summary:"Success Message",detail:t.data.message,life:3e3}),a}},fetchActivityLogsByRecord:async s=>{const i=`/activity-logs/by-record/${s}`,a=await d(i,{method:"GET",headers:{"Content-Type":"application/json"}});if(a&&a.status===200)return e.value=a.data.data,a.data},getActivityLogs:v,getActivityLogsByRecord:c}});export{_ as u};
