import{r as B,B as S,s as k,G as _,c as M,o as e,j as t,F as n,k as u,i as l,n as j,e as m,t as r,d as h,m as g,f as q,aa as D}from"./index-54e8fe55.js";import{u as E}from"./index-87aea817.js";const T={class:"grid"},$={key:0,class:"flex align-items-start gap-4"},C={class:"white-space-nowrap"},O={key:0,class:"flex gap-2"},z={key:0},G={key:0},L={key:1},P={key:1},R={key:1,class:"flex gap-4 font-bold"},U={key:0},H={key:1},J={key:1},K={class:"p-float-label"},Q={key:0,class:"text-red-600"},W={key:1},p={__name:"SectionFields",props:{fieldIds:Array,newModuleFields:Array,moduleValidationInputs:Object,moduleValidationErrors:Object,moduleValidationMeta:Object,source:String,mode:{type:String,default:"view"}},setup(d){B([]);const b=S(),F=E(),{_getFieldDetailsById:a,getFieldDetailsById:V}=k(b),{getItemValueByName:i}=k(F);return _(()=>V.value,(f,y)=>{console.log(f)}),(f,y)=>{const v=M("Tag"),x=M("InputText");return e(),t("div",T,[(e(!0),t(n,null,u(d.fieldIds,(I,N)=>(e(),t("div",{key:N,class:"col flex flex-column gap-4"},[(e(!0),t(n,null,u(I,(s,X)=>(e(),t("div",null,[l(a)({fields:d.newModuleFields,_id:s})?(e(),t("div",{key:0,class:j(`${d.mode==="view"&&"border-bottom-1 border-200"}`)},[d.mode==="view"?(e(),t("div",$,[m("div",C,r(l(a)({fields:d.newModuleFields,_id:s}).label),1),l(a)({fields:d.newModuleFields,_id:s}).relation?(e(),t("div",O,[(e(!0),t(n,null,u(l(a)({fields:d.newModuleFields,_id:s}).relation.displayFieldName,(o,c)=>(e(),t("div",{key:c,class:"font-bold"},[l(i)(l(a)({fields:d.newModuleFields,_id:s}).name)?(e(),t("div",z,[typeof l(i)(l(a)({fields:d.newModuleFields,_id:s}).name)=="object"&&!Array.isArray(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name))&&l(i)(l(a)({fields:d.newModuleFields,_id:s}).name)!==null?(e(),t("div",G,r(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name)[o]),1)):Array.isArray(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name))?(e(),t("div",L,[(e(!0),t(n,null,u(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name),(w,A)=>(e(),h(v,{key:A,rounded:"",value:w[o],class:"white-space-nowrap px-3 m-1 cursor-pointer",severity:"info"},null,8,["value"]))),128))])):g("",!0)])):(e(),t("div",P))]))),128))])):(e(),t("div",R,[Array.isArray(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name))?(e(),t("div",U,[(e(!0),t(n,null,u(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name),(o,c)=>(e(),h(v,{key:c,rounded:"",value:o,class:"white-space-nowrap px-3 m-1 cursor-pointer my-1",severity:"info"},null,8,["value"]))),128))])):(e(),t("div",H,r(l(i)(l(a)({fields:d.newModuleFields,_id:s}).name)?l(i)(l(a)({fields:d.newModuleFields,_id:s}).name):""),1))]))])):(e(),t("div",J,[(e(!0),t(n,null,u(d.newModuleFields.filter(o=>o._id===s),(o,c)=>(e(),t("div",{key:c},[m("span",K,[q(x,D(d.moduleValidationInputs[o.uniqueName],{"onUpdate:modelValue":y[0]||(y[0]=w=>f.$emit("validate-sync-func")),class:["w-full",`${o.rules&&o.rules.required&&"border-left-3"} ${!d.moduleValidationErrors[o.uniqueName]&&d.moduleValidationMeta.touched?"border-green-600":"border-red-600"}`]}),null,16,["class"]),m("label",null,r(o.label),1)]),d.moduleValidationErrors[o.uniqueName]?(e(),t("small",Q,r(d.moduleValidationErrors[o.uniqueName]),1)):g("",!0)]))),128))]))],2)):(e(),t("div",W,[m("code",null,"undefined "+r(s),1)]))]))),256))]))),128))])}}};export{p as default};
