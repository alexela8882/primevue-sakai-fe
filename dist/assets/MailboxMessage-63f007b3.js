import{C as _,_ as y,r as g,v as q,s as M,A as E,c as u,P as I,o as n,j as i,e,t as r,Q as z,m as b,f as a,F as h,k as N,g as O,w as f,i as p,p as P}from"./index-f25c6ab6.js";import{u as F}from"./index-678329c4.js";const H={class:"w-full"},U={key:0,class:"flex flex-column gap-4"},$={class:"flex justify-content-between"},J={class:"flex align-items-center gap-2"},Q={class:"font-bold text-2xl"},Y={key:0,class:"flex align-items-center gap-2"},G=e("span",{class:"text-xl"}," (Converted to inquiry)",-1),K={class:"pi pi-reply cursor-pointer font-bold text-primary"},W={class:"flex align-items-center gap-3"},X={class:"flex align-items-center justify-content-between"},Z={class:"flex align-items-center mb-5 gap-2"},ee={key:0},te={class:"m-0"},se=["innerHTML"],oe={class:"m-0"},le={class:"flex align-items-center text-2xl"},ie={__name:"MailboxMessage",props:{token:String,message:Object},setup(t){const w=t,k=_(()=>y(()=>import("./mailboxReply-436c3a98.js"),["assets/mailboxReply-436c3a98.js","assets/index-f25c6ab6.js","assets/index-d1288d3d.css","assets/index-678329c4.js"])),R=_(()=>y(()=>import("./ConvertMailboxMessage-2a70ee63.js"),["assets/ConvertMailboxMessage-2a70ee63.js","assets/index-f25c6ab6.js","assets/index-d1288d3d.css","assets/index-678329c4.js"])),d=g(!1),v=g(),T=g([{label:"Leads",name:"leads",command:s=>{m(s.item)}},{label:"Defect Reports",name:"defectreports",command:s=>{m(s.item)}},{label:"Breakdown Log",name:"breakdownlogs",command:s=>{m(s.item)}},{label:"Job Request",name:"servicejobs",command:s=>{m(s.item)}}]),C=F(),D=q(),{folderMessageReplyLoading:A}=M(C),{convertMailboxDialog:c}=M(D),B=async()=>{d.value=!0},m=s=>{console.log(w.message),c.value=!0,v.value=s};return E(()=>A.value,(s,o)=>{s||(d.value=!1)}),(s,o)=>{const L=u("font-awesome-icon"),S=u("SplitButton"),V=u("Avatar"),x=u("Dialog"),j=I("tooltip");return n(),i(h,null,[e("div",H,[t.message?(n(),i("div",U,[e("div",$,[e("div",J,[e("span",Q,r(t.message.subject),1),t.message.convertedToInquiry?(n(),i("span",Y,[G,z(e("span",K,null,512),[[j,{value:"view inquiry",pt:{arrow:{style:{borderBottomColor:"var(--primary-color)"}},text:"bg-primary font-medium"}},void 0,{bottom:!0}]])])):b("",!0)]),e("div",W,[e("div",null,[a(L,{onClick:o[0]||(o[0]=l=>B()),icon:"fa-solid fa-reply",class:"cursor-pointer",style:{"font-size":"1.5rem",color:"var(--primary-300)"}})]),e("div",null,[a(S,{model:T.value,disabled:t.message.convertedToInquiry,label:"Convert",outlined:""},null,8,["model","disabled"])])])]),e("div",null,[e("div",X,[e("div",Z,[e("div",null,[a(V,{icon:"pi pi-user",class:"mr-2",shape:"circle",size:"xlarge"})]),e("div",null,[e("div",null,r(t.message.from.emailAddress.name)+" <"+r(t.message.from.emailAddress.address)+"> ",1),e("div",null,[(n(!0),i(h,null,N(t.message.toRecipients.slice(0,2),l=>(n(),i("div",null,[O(" To: "+r(l.emailAddress.address)+" ",1),t.message.toRecipients.length>2?(n(),i("span",ee," and "+r(t.message.toRecipients.length-2)+" others ",1)):b("",!0)]))),256))])])])]),e("p",te,[e("div",{innerHTML:t.message.body.content},null,8,se)])])])):b("",!0)]),a(x,{visible:d.value,"onUpdate:visible":o[1]||(o[1]=l=>d.value=l),maximizable:"",modal:"",header:"You are replying to a mail",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:f(()=>[e("p",oe,[a(p(k),{mail:t.message,token:t.token},null,8,["mail","token"])])]),_:1},8,["visible"]),a(x,{visible:p(c),"onUpdate:visible":o[3]||(o[3]=l=>P(c)?c.value=l:null),modal:"",maximizable:"",style:{width:"60vw"},class:"convert-mailbox-dialog"},{header:f(()=>[e("div",le,[e("div",null,"Convert to Inquiry — "+r(v.value.label),1)])]),default:f(()=>[a(p(R),{mailboxMessage:t.message,convertModule:v.value,onTriggerDialog:o[2]||(o[2]=l=>c.value=!1)},null,8,["mailboxMessage","convertModule"])]),_:1},8,["visible"])],64)}}};export{ie as default};
