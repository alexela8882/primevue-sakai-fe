import{r as I,v as S,s as p,A as B,c as h,o as t,j as a,F as u,k as i,i as e,n as M,e as v,t as c,d as g,m as f,f as j,Z as q}from"./index-8c3d7919.js";import{u as E}from"./index-1e42d7ef.js";const T={class:"grid"},$={key:0,class:"flex align-items-start gap-4"},D={class:"white-space-nowrap"},C={key:0,class:"flex gap-2"},O={key:0},z={key:0},L={key:1},P={key:1},R={key:1,class:"flex gap-4 font-bold"},U={key:0},Z={key:1},F={key:1},G={class:"p-float-label"},H={key:0,class:"text-red-600"},W={__name:"SectionFields",props:{fieldIds:Array,newModuleFields:Array,moduleValidationInputs:Object,moduleValidationErrors:Object,moduleValidationMeta:Object,source:String,mode:{type:String,default:"view"}},setup(n){I([]);const b=S(),V=E(),{getFieldDetailsById:o}=p(b),{getItemValueByName:r}=p(V);return B(()=>o.value,(m,y)=>{console.log(m)}),(m,y)=>{const k=h("Tag"),w=h("InputText");return t(),a("div",T,[(t(!0),a(u,null,i(n.fieldIds,(x,A)=>(t(),a("div",{key:A,class:"col flex flex-column gap-4"},[(t(!0),a(u,null,i(x,(s,J)=>(t(),a("div",null,[e(o)(s)?(t(),a("div",{key:0,class:M(`${n.mode==="view"&&"border-bottom-1 border-200"}`)},[n.mode==="view"?(t(),a("div",$,[v("div",D,c(e(o)(s).label),1),e(o)(s).relation?(t(),a("div",C,[(t(!0),a(u,null,i(e(o)(s).relation.displayFieldName,(l,d)=>(t(),a("div",{key:d,class:"font-bold"},[e(r)(e(o)(s).name)?(t(),a("div",O,[typeof e(r)(e(o)(s).name)=="object"&&!Array.isArray(e(r)(e(o)(s).name))&&e(r)(e(o)(s).name)!==null?(t(),a("div",z,c(e(r)(e(o)(s).name)[l]),1)):Array.isArray(e(r)(e(o)(s).name))?(t(),a("div",L,[(t(!0),a(u,null,i(e(r)(e(o)(s).name),(_,N)=>(t(),g(k,{key:N,rounded:"",value:_[l],class:"white-space-nowrap px-3 m-1 cursor-pointer",severity:"info"},null,8,["value"]))),128))])):f("",!0)])):(t(),a("div",P))]))),128))])):(t(),a("div",R,[Array.isArray(e(r)(e(o)(s).name))?(t(),a("div",U,[(t(!0),a(u,null,i(e(r)(e(o)(s).name),(l,d)=>(t(),g(k,{key:d,rounded:"",value:l,class:"white-space-nowrap px-3 m-1 cursor-pointer my-1",severity:"info"},null,8,["value"]))),128))])):(t(),a("div",Z,c(e(r)(e(o)(s).name)?e(r)(e(o)(s).name):""),1))]))])):(t(),a("div",F,[(t(!0),a(u,null,i(n.newModuleFields.filter(l=>l._id===s),(l,d)=>(t(),a("div",{key:d},[v("span",G,[j(w,q(n.moduleValidationInputs[l.uniqueName],{"onUpdate:modelValue":y[0]||(y[0]=_=>m.$emit("validate-sync-func")),class:["w-full",`${l.rules&&l.rules.required&&"border-left-3"} ${!n.moduleValidationErrors[l.uniqueName]&&n.moduleValidationMeta.touched?"border-green-600":"border-red-600"}`]}),null,16,["class"]),v("label",null,c(l.label),1)]),n.moduleValidationErrors[l.uniqueName]?(t(),a("small",H,c(n.moduleValidationErrors[l.uniqueName]),1)):f("",!0)]))),128))]))],2)):f("",!0)]))),256))]))),128))])}}};export{W as default};
