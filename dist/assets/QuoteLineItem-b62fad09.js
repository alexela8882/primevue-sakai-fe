import{B as ae,a4 as te,a5 as ce,r as o,b2 as se,a as de,E as oe,G as pe,a2 as t,c as _,o as u,j as v,e as h,t as g,m as re,f as s,w as r,i as l,g as S,F as I,k as le,d as T,x as be,I as me,J as ue,q as V}from"./index-f956d2f5.js";const _e={class:"formSectionLabel flex align-items-center justify-content-between"},fe={key:0,class:"mb-0"},ve={key:0,class:"flex align-items-center justify-content-center"},Se=["innerHTML"],Ce=["innerHTML"],Re={class:"flex align-items-center justify-content-between mt-2"},ye=["innerHTML"],he={__name:"QuoteLineItem",props:{module:String,panel:Object,formPage:String},setup(p){const B=me(()=>ue(()=>import("./MutableField-92e2b65e.js"),["assets/MutableField-92e2b65e.js","assets/index-f956d2f5.js","assets/index-40ff91a8.css","assets/Validate-2e5413e3.js","assets/Editor-92f51c1d.js","assets/MutableField-a3ea61c1.css"])),c=p,E=ae(),D=te(),{fetchModuleFields:K}=E,{fetchLookupPaginated:U}=D,{getDefaultValue:H}=ce(),M=o([]),n=se("form"),G=de(),C=o([]),A=o([]),L=o({}),w=o({asServiceSales:"50px",business_unit_ids:"130px",itemCode:"100px",product_id:"270px",HSNCode:"80px",quantity:"80px",list_price_id:"50px",salesPrice:"130px",discount:"90px",subTotal:"130px",vat:"90px",status_id:"100px",commisionPercentSalesAgent:"130px",commisionAmountSalesAgent:"130px"}),x=o(1),W=o(""),N=o(!1),R=o([]),F=o({}),y=o(!1);o([{_id:"5c0723dc678f7161775a1f41",price:1,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13076678f7127291cc866",name:"<p>MIRI TL gas connectors complete set</p>",itemCode:"1320125",modelCode:"TBA",product_type_id:"Replacement Part",description:"<p>MIRI TL gas connectors complete set</p>"}},{_id:"5c0723dc678f7161775a1f43",price:1,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13075678f7127291cc85f",name:"<p>MIRI TL compartment complete with lid, heaters, glass, bottom and sensors</p>",itemCode:"1320124",modelCode:"NA",product_type_id:"Replacement Part",description:"<p>MIRI TL compartment complete with lid, heaters, glass, bottom and sensors</p>"}},{_id:"5c0723fb678f71603633a4f8",price:1,inclusiveServices:[],product_id:{_id:"5bfba8c0678f7154e5247e92",name:"<p>Shipping Charge</p>",itemCode:"RSR-019",modelCode:"RSR-019",product_type_id:"Delivery",description:"<p>Shipping Charge</p>"}},{_id:"5c0723fb678f71603633a4fe",price:1,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd12d5b678f71272c1d41ba",name:"<p>Replacement parts</p>",itemCode:"RSR-030",modelCode:"RSR-030",product_type_id:"Accessory",description:"<p>Replacement parts</p>"}},{_id:"5c07241f678f7161443ea1a6",price:10,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a142f",name:"Gas connector, CO2",itemCode:"1320014",modelCode:"MRA-1010",product_type_id:"Replacement Part",description:"Gas connector, CO2"}},{_id:"5c072446678f71603a68450e",price:20,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a142a",name:"<p>Alarm Port Connector</p>",itemCode:"1320049",modelCode:"MRS-1031",product_type_id:"Replacement Part",description:"<p>Alarm Port Connector</p>"}},{_id:"5c072446678f71603a684510",price:20,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1414",name:"<p>Validation Sensor Connector</p>",itemCode:"1320068",modelCode:"MRS-1033",product_type_id:"Replacement Part",description:"<p>Validation Sensor Connector</p>"}},{_id:"5c072446678f71603a684512",price:20,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13079678f7127291cc97a",name:"<p>12V Regulator</p>",itemCode:"1320102",modelCode:"TBA",product_type_id:"Replacement Part",description:"<p>12V Regulator</p>"}},{_id:"5c072486678f716037405b12",price:35,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1428",name:"<p>BNC Connector</p>",itemCode:"1320047",modelCode:"MRS-1029",product_type_id:"Replacement Part",description:"<p>BNC Connector</p>"}},{_id:"5c072486678f716037405b14",price:35,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1429",name:"<p>USB Connector</p>",itemCode:"1320048",modelCode:"MRS-1030",product_type_id:"Replacement Part",description:"<p>USB Connector</p>"}},{_id:"5c0724a1678f7160354af9e4",price:40,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd130e6678f71272b6450d6",name:"<p>Mains cable, US</p>",itemCode:"1320007",modelCode:"MRA-1003",product_type_id:"Replacement Part",description:"<p>Mains cable, US</p>"}},{_id:"5c0724a1678f7160354af9e8",price:40,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a141d",name:"Mains cable, Schuko",itemCode:"1320008",modelCode:"MRA-1004",product_type_id:"Replacement Part",description:"Mains cable, Schuko"}},{_id:"5c0724a1678f7160354af9ec",price:40,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13077678f7127291cc8dc",name:"Mains cable, UK",itemCode:"1320009",modelCode:"MRA-1005",product_type_id:"Replacement Part",description:"Mains cable, UK"}},{_id:"5c0724a1678f7160354af9f0",price:40,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a142e",name:"Gas connector, N2",itemCode:"1320013",modelCode:"MRA-1009",product_type_id:"Replacement Part",description:"Gas connector, N2"}},{_id:"5c0724a1678f7160354af9f4",price:40,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1430",name:"Data extension cable",itemCode:"1320017",modelCode:"MRA-1013",product_type_id:"Replacement Part",description:"Data extension cable"}},{_id:"5c0724a4678f7160354afab2",price:40,inclusiveServices:[],product_id:{_id:"5bd1300e678f7127270833b8",name:"<p>Accessory, Extra SS Shelf, With 2 Support Rails (For 50L)</p>",itemCode:"5170425",modelCode:"COA-2024-F",product_type_id:"Accessory",description:"<p>Accessory, Extra SS Shelf, With 2 Support Rails (For 50L)</p>"}},{_id:"5c0724bc678f7160397579f2",price:50,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1421",name:"Seal for gas box",itemCode:"1320038",modelCode:"MRS-1020",product_type_id:"Replacement Part",description:"Seal for gas box"}},{_id:"5c0724bc678f7160397579f6",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1422",name:"Seal for elecronics box",itemCode:"1320039",modelCode:"MRS-1021",product_type_id:"Replacement Part",description:"Seal for elecronics box"}},{_id:"5c0724bc678f7160397579fa",price:50,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13078678f7127291cc913",name:"<p>Cooling fan</p>",itemCode:"1320040",modelCode:"MRS-1022",product_type_id:"Replacement Part",description:"<p>Cooling fan</p>"}},{_id:"5c0724bc678f7160397579fe",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a142b",name:"<p>Mains Connector</p>",itemCode:"1320067",modelCode:"MRS-1032",product_type_id:"Replacement Part",description:"<p>Mains Connector</p>"}},{_id:"5c0724bc678f716039757a02",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd12f82678f71272653a06e",name:"Feet (set of 4)",itemCode:"1320010",modelCode:"MRA-1006",product_type_id:"Replacement Part",description:"Feet (set of 4)"}},{_id:"5c0724bc678f716039757a04",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1411",name:"<p>Key SP</p>",itemCode:"1320046",modelCode:"MRS-1028",product_type_id:"Replacement Part",description:"<p>Key SP</p>"}},{_id:"5c0724bc678f716039757a06",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a140c",name:"<p>Key Up</p>",itemCode:"1320025",modelCode:"MRS-1007",product_type_id:"Replacement Part",description:"<p>Key Up</p>"}},{_id:"5c0724bc678f716039757a08",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a140d",name:"<p>Key Down</p>",itemCode:"1320026",modelCode:"MRS-1008",product_type_id:"Replacement Part",description:"<p>Key Down</p>"}},{_id:"5c0724bc678f716039757a0a",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a140e",name:"<p>Key Right</p>",itemCode:"1320027",modelCode:"MRS-1009",product_type_id:"Replacement Part",description:"<p>Key Right</p>"}},{_id:"5c0724bc678f716039757a0c",price:45,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a140f",name:"<p>Key Alarm Mute</p>",itemCode:"1320028",modelCode:"MRS-1028",product_type_id:"Replacement Part",description:"<p>Key Alarm Mute</p>"}},{_id:"5c0724e2678f7160383775b2",price:55,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a141e",name:"Set of labels for MRI-6A10",itemCode:"1320029",modelCode:"MRS-1011",product_type_id:"Replacement Part",description:"Set of labels for MRI-6A10"}},{_id:"5c0724e2678f7160383775b4",price:55,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13078678f7127291cc908",name:"Window for display",itemCode:"1320035",modelCode:"MRS-1017",product_type_id:"Replacement Part",description:"Window for display"}},{_id:"5c0724e2678f7160383775b6",price:55,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1427",name:"Inlet, twin fused/switch",itemCode:"1320057",modelCode:"MRS-1027",product_type_id:"Replacement Part",description:"Inlet, twin fused/switch"}},{_id:"5c072502678f7160344d2c17",price:65,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1424",name:"Serial to USB converter",itemCode:"1320042",modelCode:"MRS-1024",product_type_id:"Replacement Part",description:"Serial to USB converter"}},{_id:"5c072505678f7160344d2cf9",price:70,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13089678f7127291cce31",name:"<p>Bottle for HS-1</p>",itemCode:"1320078",modelCode:"NA",product_type_id:"Replacement Part",description:"<p>Bottle for HS-1</p>"}},{_id:"5c072505678f7160344d2cfb",price:70,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13083678f7127291ccc33",name:"<p>Bulb for Light source</p>",itemCode:"1320152",modelCode:"NA",product_type_id:"Replacement Part",description:"<p>Bulb for Light source</p>"}},{_id:"5c07251a678f7161775a225d",price:70,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd12fd2678f71272d5a822a",name:"<p>UV Lamp for 4ft, 5ft, 6ft Cabinets except AC3-4B</p>",itemCode:"5170255",modelCode:"UV-30A",product_type_id:"Accessory",description:"<p>UV Lamp for 4ft, 5ft, 6ft Cabinets except AC3-4B</p>"}},{_id:"5c072520678f7161775a23e1",price:74,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd12dbf678f71272d5a77e2",name:"<p>Prefilter, Cardboard Frame, PF-C (565 x 440 x 15mm) Needs 2 for 4’; 3 for 6’</p>",itemCode:"5090016",modelCode:"CRF/PF-C",product_type_id:"Accessory",description:"Prefilter, Cardboard Frame, PF-C (565 x 440 x 15mm) Needs 2 for 4’; 3 for 6’"}},{_id:"5c07255a678f71603a6846a4",price:90,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13079678f7127291cc959",name:"<p>MIRI TL Set of Labels</p>",itemCode:"1320126",modelCode:"TBA",product_type_id:"Replacement Part",description:"<p>MIRI TL Set of Labels</p>"}},{_id:"5c07255a678f71603a6846a6",price:100,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13083678f7127291ccc3f",name:'<p><span style="color: rgb(36, 36, 36);">Set of in-line filters, 2 pcs internal + 2 pcs external&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p><span style="color: rgb(36, 36, 36);">To be replaced once every 12 months</span></p>',itemCode:"1320005",modelCode:"MRA-1001",product_type_id:"Replacement Part",description:'<p><span style="color: rgb(36, 36, 36);">Set of in-line filters, 2 pcs internal + 2 pcs external&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p><span style="color: rgb(36, 36, 36);">To be replaced once every 12 months</span></p>'}},{_id:"5c07257c678f7160337c75de",price:100,inclusiveServices:[],product_id:{_id:"5bd1300e678f7127270833c8",name:"<p>Accessory, Extra SS Shelf, With 2 Support Rails (For 170L)</p>",itemCode:"5170327",modelCode:"COA-2007-F",product_type_id:"Accessory",description:"<p>Accessory, Extra SS Shelf, With 2 Support Rails (For 170L)</p>"}},{_id:"5c072584678f7160337c77ec",price:110,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1426",name:"Solid state relay",itemCode:"1320044",modelCode:"MRS-1026",product_type_id:"Replacement Part",description:"Solid state relay"}},{_id:"5c072586678f7160337c7872",price:130,inclusiveServices:[],product_id:{_id:"5bd130c9678f712759125983",name:"<p>Option, Reversed Door Swing, Factory Installed</p>",itemCode:"5170474",modelCode:"COA-1004",product_type_id:"Accessory",description:"<p>Option, Reversed Door Swing, Factory Installed</p>"}},{_id:"5c072586678f7160337c7874",price:130,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd1300f678f712727083408",name:"<p>Accessory, Stacking Kit</p>",itemCode:"5170483",modelCode:"COA-2008-F",product_type_id:"Accessory",description:"<p>Accessory, Stacking Kit</p>"}},{_id:"5c0725b9678f7160354afd3c",price:125,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13088678f7127291ccdc7",name:"<p>Set of 6 pcs Gas Connection Tube</p>",itemCode:"1320066",modelCode:"MRA-1104",product_type_id:"Replacement Part",description:"<p>Set of 6 pcs. Gas Connection Tube; Accessory for MRI- GA (to connect to MRI-6A10 6x gas sampling ports)</p>"}},{_id:"5c0725d9678f716039757df0",price:150,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd12f7b678f712726539e21",name:"<p>Internal Gas Pump</p>",itemCode:"1320023",modelCode:"MRS-1005",product_type_id:"Replacement Part",description:"<p>Internal Gas Pump</p>"}},{_id:"5c072612678f7160344d2e13",price:160,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05c678f7161775a13c6",name:"<p>SafeSens SV2 Sensor (shelf-life 12 months)</p>",itemCode:"1081277",modelCode:"TBA",product_type_id:"Accessory",description:"<p>SafeSens SV2 Sensor</p>"}},{_id:"5c072618678f7160344d2f61",price:180,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13083678f7127291ccc4c",name:"<p>VOC/HEPA Filter for Miri or Miri TL (To be replaced once every 3 months)</p>",itemCode:"1320011",modelCode:"MRA-1007",product_type_id:"Replacement Part",description:"<p>VOC/HEPA Filter for Miri or Miri TL (To be replaced once every 3 months)</p>"}},{_id:"5c0774e0678f7160337c7ab8",price:200,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1434",name:"<p>Circulation Box</p>",itemCode:"1320021",modelCode:"MRS-1003",product_type_id:"Replacement Part",description:"Circulation box"}},{_id:"5c07750e678f71603633aa48",price:210,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd12e18678f71272a3489c3",name:"O2 Sensor To be replaced once every 12 months (ONLY FOR MRI-TL)",itemCode:"1320144",modelCode:"TBA",product_type_id:"Replacement Part",description:"O2 Sensor To be replaced once every 12 months (ONLY FOR MRI-TL)"}},{_id:"5c07750f678f71603633aa58",price:210,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5bd13085678f7127291cccd5",name:"<p>O2 Sensor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>To be replaced once every 12 months (ONLY FOR MRI-6A10)</p>",itemCode:"1320031",modelCode:"MRS-1013",product_type_id:"Replacement Part",description:"<p>O2 Sensor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>To be replaced once every 12 months (ONLY FOR MRI-6A10)</p>"}},{_id:"5c077516678f71603633ac0a",price:180,inclusiveServices:[],product_id:{_id:"5bd1300e678f7127270833d8",name:"<p>Accessory, Extra SS Shelf, With 2 Support Rails (For 240L)</p>",itemCode:"5170426",modelCode:"COA-2025-F",product_type_id:"Accessory",description:"<p>Accessory, Extra SS Shelf, With 2 Support Rails (For 240L)</p>"}},{_id:"5c07753d678f7161443ea61b",price:220,inclusiveServices:[{_id:"5bb164eb678f7106e91508fc",name:"Installation and/or Parts Replacement"}],product_id:{_id:"5c05d05e678f7161775a1435",name:"<p>Gas Manifold</p>",itemCode:"1320022",modelCode:"MRS-1004",product_type_id:"Replacement Part",description:"<p>Gas Manifold</p>"}},{_id:"5c077545678f7161443ea7ef",price:205,inclusiveServices:[],product_id:{_id:"5bd12e7d678f712759124cdf",name:"PC Holder",itemCode:"1320140",modelCode:"NA",product_type_id:"Accessory",description:"PC Holder for Miri"}}]),oe(async()=>{c.formPage=="create"?A.value=["status_id","sales_quote_id","currency_id","sort","inclusive_service_ids","commisionPercentDistributor","commisionAmountDistributor","commisionPercentSalesAgent","commisionAmountSalesAgent","discountedPriceRound","subTotalRound","discountPrice","discountedPrice"]:A.value=["status_id","sales_quote_id","currency_id","sort","inclusive_service_ids"],M.value=await K("SalesOpptItem"),L.value=H(M.value,!1),n.value.values[c.panel.panelName]=[]});const q=e=>{C.value=e},j=()=>{t.forEach(C.value,function(e){let i=t.cloneDeep(L.value);i.product_id=e.product_id,i.salesPrice=e.price,i.listPriceCopied=!0,i.listPrice=e.price,i.branch_id=n.value.values.main.branch_id,i.inclusive_service_ids=e.inclusiveServices,n.value.values[c.panel.panelName].push(i)}),C.value=[]},z=(e,i)=>{console.log(e,i),e=="salesPrice"&&(console.log(n.value.values[c.panel.panelName][i].listPrice,n.value.values[c.panel.panelName][i].salesPrice,n.value.values[c.panel.panelName][i].listPrice!=n.value.values[c.panel.panelName][i].salesPrice),n.value.values[c.panel.panelName][i].listPrice!=n.value.values[c.panel.panelName][i].salesPrice?n.value.values[c.panel.panelName][i].listPriceCopied=!1:n.value.values[c.panel.panelName][i].listPriceCopied=!0)},Y=e=>{n.value.values[c.panel.panelName][e].salesPrice=n.value.values[c.panel.panelName][e].listPrice},$=e=>{let i=t.get(n.value.values.main,"branch_id._id",""),b=e.discount/100,d=e.salesPrice-e.salesPrice*b;if(i=="5badf748678f7111186ba26e"||i=="5f8510f0a6ebc7423b72d6f2")return t.round(d,0)*e.quantity;if(i=="5bfcf6c9678f71594d642a86"||i=="5badf748678f7111186ba268"){let m=e.vat/100;return(d+d*m)*e.quantity}else if(i=="5c6a88e3a6ebc728735b9db2"){let m=e.commisionPercentDistributor/100;return d=e.salesPrice-e.salesPrice*(b+m),d*e.quantity}else return d*e.quantity};let P=null;const k=async()=>{N.value=!0,P&&P.cancel("Previous search canceled"),P=V.CancelToken.source();try{let e={fieldId:"salesopptitem_list_price_id",page:x.value,moduleName:"salesopportunities",search:W.value},i=[];if(t.isEmpty(n.value.values.main)||(!t.isEmpty(n.value.values.main.currency_id)&&!t.isNull(n.value.values.main.currency_id)?e["SalesOpportunity::currency_id"]=n.value.values.main.currency_id._id:i.push("Currency"),!t.isEmpty(n.value.values.main.pricebook_id)&&!t.isNull(n.value.values.main.pricebook_id)?e["SalesOpportunity::pricebook_id"]=n.value.values.main.pricebook_id._id:i.push("Pricebook")),t.isEmpty(i)){y.value=!0;let b=await U(e,P);R.value=b.data,F.value=t.cloneDeep(t.get(b,"meta.pagination",{})),C.value=R.value.filter(d=>c.modelValue&&c.modelValue.includes(d._id)),N.value=!1}else y.value=!1,G.add({severity:"error",summary:"Error",detail:"Please select "+t.join(i,", "),position:"top-center",life:3e3}),N.value=!1}catch(e){V.isCancel(e)?console.log("Request canceled:",e.message):console.error("Error fetching data:",e)}},J=async e=>{x.value=e,k()};return pe(n.value.values.main,(e,i)=>{t.forEach(n.value.values[c.panel.panelName],function(b,d){t.isEqual(b.branch_id,n.value.values.main.branch_id)||(n.value.values[c.panel.panelName][d].branch_id=n.value.values.main.branch_id)})}),(e,i)=>{const b=_("el-button"),d=_("ProgressSpinner"),m=_("el-table-column"),Q=_("el-table"),X=_("el-pagination"),Z=_("el-popover"),ee=_("el-checkbox"),ne=_("Column"),ie=_("DataTable");return u(),v(I,null,[h("div",_e,[p.panel.sections[0].label?(u(),v("h6",fe,g(p.panel.sections[0].label),1)):re("",!0),s(Z,{visible:y.value,placement:"bottom-start",width:880,trigger:"click",onHide:j},{reference:r(()=>[s(b,{style:{"margin-right":"16px"},disabled:l(n).formSaving,onClick:k},{default:r(()=>[S("Add Products")]),_:1},8,["disabled"])]),default:r(()=>[l(t).isEmpty(R.value)?(u(),v("div",ve,[s(d)])):(u(),v(I,{key:1},[s(Q,{data:R.value,border:"",stripe:"",height:"250",size:"small",onSelectionChange:q},{default:r(()=>[s(m,{type:"selection",width:"30"}),s(m,{width:"100",label:"Item Code"},{default:r(a=>[S(g(a.row.product_id.itemCode),1)]),_:1}),s(m,{width:"120",label:"Model Code"},{default:r(a=>[S(g(a.row.product_id.modelCode),1)]),_:1}),s(m,{width:"250",label:"Product"},{default:r(a=>[h("div",{innerHTML:a.row.product_id.name},null,8,Se)]),_:1}),s(m,{width:"250",label:"Description"},{default:r(a=>[h("div",{innerHTML:a.row.product_id.description},null,8,Ce)]),_:1}),s(m,{width:"100",prop:"price",label:"Price"})]),_:1},8,["data"]),h("div",Re,[s(X,{small:"",background:"",layout:"prev, pager, next","default-page-size":50,"current-page":x.value,total:l(t).get(F.value,"total",0),onCurrentChange:J},null,8,["current-page","total"]),s(b,{stype:"primary",size:"small",onClick:i[0]||(i[0]=a=>y.value=!1)},{default:r(()=>[S("OK")]),_:1})])],64))]),_:1},8,["visible"])]),s(ie,{value:l(n).values[p.panel.panelName],size:"small",stripedRows:"",columnResizeMode:"expand",tableStyle:"min-width: 50rem"},{default:r(()=>[(u(!0),v(I,null,le(l(t).filter(M.value,function(a){if(!l(t).includes(A.value,a.name))return!0}),a=>(u(),T(ne,{key:a._id,field:a.name,header:a.label,style:be("width:"+w.value[a.name])},{body:r(f=>[a.name=="product_id"?(u(),v("div",{key:0,innerHTML:f.data.product_id.name},null,8,ye)):a.name=="list_price_id"?(u(),T(ee,{key:1,modelValue:l(n).values[p.panel.panelName][f.index].listPriceCopied,"onUpdate:modelValue":O=>l(n).values[p.panel.panelName][f.index].listPriceCopied=O,disabled:l(n).values[p.panel.panelName][f.index].listPrice==l(n).values[p.panel.panelName][f.index].salesPrice,onChange:O=>Y(f.index),size:"small"},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])):a.name=="subTotal"?(u(),v(I,{key:2},[S(g($(f.data)),1)],64)):(u(),T(l(B),{key:3,config:a,mutableIndex:f.index,keyName:p.panel.panelName,type:"tableForm",entity:p.panel.entityName,module:p.module,inputWidth:w.value[a.name],onChangeValue:z},null,8,["config","mutableIndex","keyName","entity","module","inputWidth"]))]),_:2},1032,["field","header","style"]))),128))]),_:1},8,["value"])],64)}}};export{he as default};
