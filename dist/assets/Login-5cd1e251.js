import{D as C,r as m,a as E,x as $,u as B,I as L,c as d,o as p,j as v,e,f as u,l as f,n as x,t as b,m as w,q as P,E as j,G as T}from"./index-0c8d91e6.js";const U="/demo/images/login/avatar.png";const r=n=>(j("data-v-41596ec9"),n=n(),T(),n),K={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},N={class:"flex flex-column align-items-center justify-content-center"},A=["src"],D={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},R={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},q=r(()=>e("div",{class:"text-center mb-5"},[e("img",{src:U,alt:"Image",height:"50",class:"mb-3"}),e("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome, Isabel!"),e("span",{class:"text-600 font-medium"},"Sign in to continue")],-1)),z={class:"flex flex-column gap-2 mb-5"},F=r(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Email",-1)),G={key:0,class:"text-red-600"},M={class:"flex flex-column gap-2 mb-5"},W=r(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Password",-1)),H={key:0,class:"text-red-600"},J={class:"flex align-items-center justify-content-between mb-5 gap-5"},O={class:"flex align-items-center"},Q=r(()=>e("label",{for:"rememberme1"},"Remember me",-1)),X=r(()=>e("a",{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},"Forgot password?",-1)),Y={__name:"Login",setup(n){const t=m(!1),g=E(),{layoutConfig:y}=$(),h=B(),l=m({email:{value:null,error:null},password:{value:null,error:null}}),_=m(!1);localStorage.getItem("isAuthenticated");const c=async()=>{t.value=!0,l.value.email.error=null,l.value.password.error=null;const i=l.value.email.value,a=l.value.password.value;(i===""||i===null)&&(l.value.email.error="Enter your email"),(a===""||a===null)&&(l.value.password.error="Enter your password"),await P.post("/login",{email:i,password:a}).then(s=>{localStorage.clear(),localStorage.setItem("token",s.data.data.token),localStorage.setItem("auth_id",s.data.data._id),localStorage.setItem("isAuthenticated",!0),h.push({path:"/"}),t.value=!1,g.add({severity:"success",summary:"Success",detail:s.data.message,life:3e3})}).catch(s=>{s&&(console.log(s),g.add({severity:"error",summary:"Error",detail:s.response.data.message,life:3e3})),t.value=!1})},k=L(()=>`layout/images/${y.darkTheme.value?"logo-white":"logo-dark"}.svg`);return(i,a)=>{const s=d("InputText"),S=d("Password"),I=d("Checkbox"),V=d("Button");return p(),v("div",K,[e("div",N,[e("img",{src:k.value,alt:"Sakai logo",class:"mb-5 w-6rem flex-shrink-0"},null,8,A),e("div",D,[e("div",R,[q,e("div",null,[e("div",z,[F,u(s,{onKeypress:a[0]||(a[0]=f(o=>c(),["enter"])),disabled:t.value,type:"text",placeholder:"Email address",class:x(["w-full md:w-30rem",`${l.value.email.error&&"p-invalid"}`]),style:{padding:"1rem"},modelValue:l.value.email.value,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.email.value=o)},null,8,["disabled","class","modelValue"]),l.value.email.error?(p(),v("small",G,b(l.value.email.error),1)):w("",!0)]),e("div",M,[W,u(S,{onKeypress:a[2]||(a[2]=f(o=>c(),["enter"])),disabled:t.value,modelValue:l.value.password.value,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value.password.value=o),placeholder:"Password",toggleMask:!0,class:x(["w-full",`${l.value.password.error&&"p-invalid"}`]),inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["disabled","modelValue","class"]),l.value.password.error?(p(),v("small",H,b(l.value.password.error),1)):w("",!0)]),e("div",J,[e("div",O,[u(I,{disabled:t.value,modelValue:_.value,"onUpdate:modelValue":a[4]||(a[4]=o=>_.value=o),id:"rememberme1",binary:"",class:"mr-2"},null,8,["disabled","modelValue"]),Q]),X]),u(V,{loading:t.value,onClick:a[5]||(a[5]=o=>c()),label:`${t.value?"Signing in...":"Sign In"}`,class:"w-full p-3 text-xl"},null,8,["loading","label"])])])])])])}}},ee=C(Y,[["__scopeId","data-v-41596ec9"]]);export{ee as default};
