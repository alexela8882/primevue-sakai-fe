import{C as _,_ as p,r as g,v as j,s as M,A as E,c as u,o as d,j as r,e,t as n,f as a,F as y,k as z,g as N,m as k,w as f,i as b,p as O}from"./index-283ac5a2.js";import{u as I}from"./index-1db3f285.js";const P={class:"w-full"},q={key:0,class:"flex flex-column gap-4"},F={class:"flex justify-content-between"},H={class:"font-bold text-2xl"},U={class:"flex align-items-center gap-3"},$={class:"flex align-items-center justify-content-between"},J={class:"flex align-items-center mb-5 gap-2"},Y={key:0},G={class:"m-0"},K=["innerHTML"],Q={class:"m-0"},W={class:"flex align-items-center text-2xl"},ee={__name:"MailboxMessage",props:{token:String,message:Object},setup(s){const h=s,w=_(()=>p(()=>import("./mailboxReply-cea3ed16.js"),["assets/mailboxReply-cea3ed16.js","assets/index-283ac5a2.js","assets/index-d1288d3d.css","assets/index-1db3f285.js"])),R=_(()=>p(()=>import("./ConvertMailboxMessage-d89d74e7.js"),["assets/ConvertMailboxMessage-d89d74e7.js","assets/index-283ac5a2.js","assets/index-d1288d3d.css"])),c=g(!1),v=g(),T=g([{label:"Leads",name:"leads",command:o=>{m(o.item)}},{label:"Defect Reports",name:"defectreports",command:o=>{m(o.item)}},{label:"Breakdown Log",name:"breakdownlogs",command:o=>{m(o.item)}},{label:"Job Request",name:"servicejobs",command:o=>{m(o.item)}}]),A=I(),C=j(),{folderMessageReplyLoading:D}=M(A),{convertMailboxDialog:i}=M(C),L=async()=>{c.value=!0},m=o=>{console.log(h.message),i.value=!0,v.value=o};return E(()=>D.value,(o,t)=>{o||(c.value=!1)}),(o,t)=>{const S=u("font-awesome-icon"),B=u("SplitButton"),V=u("Avatar"),x=u("Dialog");return d(),r(y,null,[e("div",P,[s.message?(d(),r("div",q,[e("div",F,[e("div",H,n(s.message.subject),1),e("div",U,[e("div",null,[a(S,{onClick:t[0]||(t[0]=l=>L()),icon:"fa-solid fa-reply",class:"cursor-pointer",style:{"font-size":"1.5rem",color:"var(--primary-300)"}})]),e("div",null,[a(B,{model:T.value,label:"Convert",outlined:""},null,8,["model"])])])]),e("div",null,[e("div",$,[e("div",J,[e("div",null,[a(V,{icon:"pi pi-user",class:"mr-2",shape:"circle",size:"xlarge"})]),e("div",null,[e("div",null,n(s.message.from.emailAddress.name)+" <"+n(s.message.from.emailAddress.address)+"> ",1),e("div",null,[(d(!0),r(y,null,z(s.message.toRecipients.slice(0,2),l=>(d(),r("div",null,[N(" To: "+n(l.emailAddress.address)+" ",1),s.message.toRecipients.length>2?(d(),r("span",Y," and "+n(s.message.toRecipients.length-2)+" others ",1)):k("",!0)]))),256))])])])]),e("p",G,[e("div",{innerHTML:s.message.body.content},null,8,K)])])])):k("",!0)]),a(x,{visible:c.value,"onUpdate:visible":t[1]||(t[1]=l=>c.value=l),maximizable:"",modal:"",header:"You are replying to a mail",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:f(()=>[e("p",Q,[a(b(w),{mail:s.message,token:s.token},null,8,["mail","token"])])]),_:1},8,["visible"]),a(x,{visible:b(i),"onUpdate:visible":t[3]||(t[3]=l=>O(i)?i.value=l:null),modal:"",maximizable:"",style:{width:"60vw"},class:"convert-mailbox-dialog"},{header:f(()=>[e("div",W,[e("div",null,"Convert to Inquiry â€” "+n(v.value.label),1)])]),default:f(()=>[a(b(R),{mailboxMessage:s.message,convertModule:v.value,onTriggerDialog:t[2]||(t[2]=l=>i.value=!1)},null,8,["mailboxMessage","convertModule"])]),_:1},8,["visible"])],64)}}};export{ee as default};
