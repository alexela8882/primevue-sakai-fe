import{M as P,a as F,r as d,v as C,q as I,K as N,B as j,s as B,E as R,o as a,j as c,d as m,a6 as V,m as b,i as v,w as k,f as p,S as x,I as g,J as y}from"./index-b43f83a8.js";import{D as M}from"./DataTableLoader-be4446ff.js";const O=P("activityLogStore",()=>{const e=F();d("http://localhost:3000"),d("http://localhost/api");const u=d([]),r=C(()=>u.value);return{saveActivityLog:async s=>{const n=s.be_nec.uri,i=s.be_nec.method,l=await I(n,{method:i,headers:{"Content-Type":"application/json"},data:s.fields});if(l&&l.status===200)return console.log(l),e.add({severity:"success",summary:"Success Message",detail:l.data.message,life:3e3}),i},getActivityLogs:r}}),_={class:"h-full"},W={key:0,class:"p-2"},q={key:1,class:"py-5 h-full"},J={key:2,class:"py-2 h-full"},K={key:3,class:"p-2"},H={__name:"FloatingWindowContent",props:{tab:Object},setup(e){const u=g(()=>y(()=>import("./Form-488aa78d.js"),["assets/Form-488aa78d.js","assets/index-b43f83a8.js","assets/index-40ff91a8.css","assets/Validate-c6556af2.js","assets/index-d3eb398d.js","assets/Form-5461db5c.css"])),r=g(()=>y(()=>import("./DynamicDataTableMain-5d1502b3.js"),["assets/DynamicDataTableMain-5d1502b3.js","assets/index-b43f83a8.js","assets/index-40ff91a8.css","assets/Validate-c6556af2.js","assets/DynamicDataTableMain-5df8962c.css"])),f=g(()=>y(()=>import("./DynamicForm-de83ac67.js"),["assets/DynamicForm-de83ac67.js","assets/index-b43f83a8.js","assets/index-40ff91a8.css","assets/index.esm-8eae67af.js"])),s=e,n=d(!1),i=d(),l=O(),S=N(),E=j(),{saveActivityLog:A}=l,{updateTabByField:D}=S;B(E);const T=async o=>{n.value=!0;const t=await A(o);i.value=t,n.value=!1},h=async o=>{n.value=!0;let t=1;o.jump?t=s.tab.module.collection&&s.tab.module.collection.pagination:t=o.event.page+1,await D({tab:s.tab.name,field:"module",data:{module:s.tab.base_module.name,page:t,per_page:o.per_page}}),n.value=!1},w=async o=>{const t=o.value;await h({event:o,jump:!0,per_page:t})};return R(async()=>{}),(o,t)=>(a(),c("div",_,[e.tab.type==="component"?(a(),c("div",W,[(a(),m(V(e.tab.component)))])):b("",!0),e.tab.type==="static-form"?(a(),c("div",q,[(a(),m(v(f),{key:e.tab.name,form:e.tab.form,loading:n.value,response:i.value,onSaveAction:t[0]||(t[0]=L=>T(L))},null,8,["form","loading","response"]))])):e.tab.type==="module-form"?(a(),c("div",J,[(a(),m(v(u),{key:e.tab.name,config:e.tab},null,8,["config"]))])):e.tab.type=="module"?(a(),c("div",K,[e.tab.base_module?(a(),m(x,{key:0},{fallback:k(()=>[p(M)]),default:k(()=>[(a(),m(v(r),{key:e.tab.base_module._id,mode:"view",moduleId:e.tab.base_module._id,moduleEntityName:e.tab.base_module.mainEntity,moduleName:e.tab.base_module.name,moduleLabel:e.tab.base_module.label,modulePermissions:e.tab.module.permissions,fields:e.tab.module.viewFilterWithFields.fields,data:e.tab.module.collection&&e.tab.module.collection.data,collectionLoading:n.value,pagination:e.tab.module.collection&&e.tab.module.collection.meta&&e.tab.module.collection.meta.pagination,onPaginate:h,onLimitPage:w},null,8,["moduleId","moduleEntityName","moduleName","moduleLabel","modulePermissions","fields","data","collectionLoading","pagination"]))]),_:1})):b("",!0)])):b("",!0)]))}};export{H as default};
