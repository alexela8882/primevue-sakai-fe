import{r as _,K as G,B as J,s as V,E as K,G as b,c as p,o,j as t,i,e as l,f as m,m as c,F as u,k as q,w as d,d as w,a1 as W,t as v,n as N,a2 as $,g,I as H,J as Q}from"./index-f956d2f5.js";const X={class:"z-3 fixed bottom-0 right-0 mx-3 p-2 flex justify-content-end align-items-center"},Y={key:0,class:"align-self-end mr-2"},Z={style:{width:"35vw"}},ee={class:"flex align-items-center gap-2 ml-2"},oe=l("div",{class:"material-icons",style:{"font-size":"12px"}},"open_in_full",-1),te=l("div",{class:"material-icons",style:{"font-size":"12px"}},"close",-1),ne=["onClick"],le={class:"flex align-items-center gap-2 text-xl font-bold"},se={key:0,class:"material-icons"},ie={key:2},ae={class:"flex align-items-center gap-2 text-xl font-bold"},de={key:0,class:"material-icons"},ce={key:2},re={style:{height:"70vh !important"},class:"m-0 p-0 floating-window-content overflow-y-scroll overflow-x-hidden"},ge={__name:"FloatingWindow",setup(me){const E=H(()=>Q(()=>import("./FloatingWindowContent-915cce36.js"),["assets/FloatingWindowContent-915cce36.js","assets/index-f956d2f5.js","assets/index-40ff91a8.css","assets/DataTableLoader-324d06e9.js","assets/index-6bbd7de0.js"]));_();const f=_(),x=_([]),k=_([]),T=G(),P=J(),{tabDialog:ue,xTabsLoading:S,getTabs:D,getWinTabs:C,getOpenedWinTabs:_e}=V(T),{removeTab:F,toggleWindows:A,sortTabs:pe,maximizeTab:I,minimizeTab:L}=T,{getModuleByName:z}=V(P),O=async n=>{await F(n)},U=n=>{console.log(n)},M=(n,a)=>{console.log(n.value),a.expanded=!n.value},j=async n=>{await I(n)};return K(async()=>{}),b(()=>f.value,async(n,a)=>{await A(n)}),b(D.value,(n,a)=>{x.value=n.filter(s=>s.style=="window");let y=x.value.filter(s=>s.opened).sort((s,h)=>s.opened_order-h.opened_order);k.value=y}),(n,a)=>{const y=p("Dropdown"),s=p("Button"),h=p("Panel"),R=p("BlockUI");return o(),t("div",X,[i(C).length>2?(o(),t("div",Y,[l("div",null,[m(y,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),options:i(C),optionLabel:"label",checkmark:"",highlightOnSelect:!1},null,8,["modelValue","options"])])])):c("",!0),(o(!0),t(u,null,q(k.value,(e,B)=>(o(),t("div",{class:"px-1 align-self-end",key:B},[m(R,{blocked:i(S)},{default:d(()=>[l("div",Z,[m(h,{toggleable:"","onUpdate:collapsed":a[1]||(a[1]=r=>U(r)),onToggle:r=>M(r,e),collapsed:!e.expanded,class:"floating-window h-full shadow-4"},{icons:d(()=>[l("div",ee,[m(s,{onClick:r=>j(e),text:"",rounded:""},{icon:d(()=>[oe]),_:2},1032,["onClick"]),m(s,{onClick:r=>O(e),text:"",rounded:""},{icon:d(()=>[te]),_:2},1032,["onClick"])])]),togglericon:d(()=>[m(s,{text:"",rounded:""},{icon:d(()=>[l("div",{onClick:r=>i(L)(e),class:"material-icons",style:{"font-size":"12px"}},"minimize",8,ne)]),_:2},1024)]),header:d(()=>[(o(),w(W,{to:`${e.maximized?".global-dialog-header":".hidden-div"}`},[l("div",le,[e.type==="module-form"||e.type==="module"?(o(),t("div",se,v(i(z)(e._module).icon),1)):c("",!0),e.type==="static-form"?(o(),t("div",{key:1,class:N(`pi pi-${e.icon}`)},null,2)):c("",!0),l("div",null,v(e.label),1),e.type==="module-form"?(o(),t("div",ie,[i($).includes(e.name,"create")?(o(),t(u,{key:0},[g("(New)")],64)):(o(),t(u,{key:1},[g("(Edit)")],64))])):c("",!0)])],8,["to"])),l("div",ae,[e.type==="module-form"||e.type==="module"?(o(),t("div",de,v(i(z)(e._module).icon),1)):c("",!0),e.type==="static-form"?(o(),t("div",{key:1,class:N(`pi pi-${e.icon}`)},null,2)):c("",!0),l("div",null,v(e.label),1),e.type==="module-form"?(o(),t("div",ce,[i($).includes(e.name,"create")?(o(),t(u,{key:0},[g("(New)")],64)):(o(),t(u,{key:1},[g("(Edit)")],64))])):c("",!0)])]),default:d(()=>[l("div",re,[(o(),w(W,{disabled:!e.maximized,to:`${e.maximized?".fw-dialog-content":".hidden-div"}`},[(o(),w(i(E),{key:B,tab:e},null,8,["tab"]))],8,["disabled","to"]))])]),_:2},1032,["onToggle","collapsed"])])]),_:2},1032,["blocked"])]))),128))])}}};export{ge as default};
