import{D as re,c as _,o as t,j as l,f as o,r as c,w as i,e,n as K,U as Be,t as r,E as $e,G as Pe,H as Ve,a as ue,K as Ae,v as me,s as P,I as J,C as z,_ as E,J as Oe,u as Ue,A as qe,z as We,F as y,k as x,i as n,m as u,d as L,S as $,g as Ge}from"./index-65928da5.js";import{D as He}from"./DataTableLoader-3261d7f8.js";import{u as Je,T as de}from"./index-be372700.js";const Ke={};function Qe(f,T){const b=_("Skeleton");return t(),l("div",null,[o(b,{class:"mb-2",borderRadius:"16px"}),o(b,{width:"10rem",class:"mb-2",borderRadius:"16px"}),o(b,{width:"5rem",borderRadius:"16px",class:"mb-2"}),o(b,{height:"2rem",class:"mb-2",borderRadius:"16px"}),o(b,{width:"10rem",height:"4rem",borderRadius:"16px"})])}const ce=re(Ke,[["render",Qe]]);const Xe=f=>($e("data-v-6bc92a60"),f=f(),Pe(),f),Ye={class:"px-4 lg:px-0"},Ze=Xe(()=>e("span",{class:"font-bold text-blue-800"},"/",-1)),et=["onClick"],tt={__name:"RdBreadCrumbs",props:{bcrumbs:Array},setup(f){return c({icon:"pi pi-home",to:"/dashboard"}),(T,b)=>{const j=_("Breadcrumb");return t(),l("div",Ye,[o(j,{class:"whitespace-nowrap capitalize text-blue-800 text-xl",model:f.bcrumbs},{separator:i(({item:p})=>[Ze]),item:i(({item:p})=>[e("a",{class:K(p.class),onClick:I=>p.to&&T.$router.push(`${p.to}`),style:Be(`cursor: ${p.to!==null&&"pointer"}`)},[e("span",{class:K(`${p.to&&"font-bold"}`)},r(p.label),3)],14,et)]),_:1},8,["model"])])}}},st=re(tt,[["__scopeId","data-v-6bc92a60"]]),lt=Ve("moduleFileStore",()=>{ue();const f=Ae(),T=me();P(f),P(T);const b=c(!1),j=c(!1),p=c(!1),I=c([]),U=c([{categoryValue:0,items:[{id:1,label:"Test 1",date:"Jan 23, 2023",size:"55kb",type:"jpg",selected:!1},{id:2,label:"Test 2",date:"Aug 01, 2023",size:"45kb",type:"jpg",selected:!1},{id:3,label:"Test 3",date:"Nov 23, 2023",size:"100kb",type:"jpg",selected:!1},{id:4,label:"Test 4",date:"Sept 23, 2023",size:"1mb",type:"png",selected:!1},{id:5,label:"Test 5",date:"Jan 06, 2023",size:"2.3mb",type:"jpg",selected:!1},{id:6,label:"Test 6",date:"March 24, 2023",size:"50kb",type:"jpeg",selected:!1},{id:7,label:"Test 7",date:"Nov 23, 2023",size:"1kb",type:"jpeg",selected:!1},{id:8,label:"Test 8",date:"Nov 23, 2023",size:"0kb",type:"png",selected:!1},{id:9,label:"Test 9",date:"Nov 23, 2023",size:"90kb",type:"png",selected:!1},{id:10,label:"Test 10",date:"Nov 23, 2023",size:"1.1mb",type:"jpg",selected:!1},{id:11,label:"Test 11",date:"Nov 23, 2023",size:"1.1mb",type:"jpg",selected:!1},{id:12,label:"Test 12",date:"Dec 23, 2023",size:"1.1mb",type:"jpg",selected:!1}]},{categoryValue:2,items:[{label:"Test 1",date:"Nov 23, 2023",size:"55kb",file_type:"jpg"}]}]),V=c({}),q=J(()=>I.value),M=J(()=>U.value),v=J(()=>V.value);return{fileLoading:b,fileDialog:j,fileDialogSwitch:p,getModuleFiles:q,getFiles:M,getFile:v,addModuleFiles:async w=>{w.map(S=>I.value.push(S))}}});const ot={key:0,class:"flex align-items-center justify-content-center",style:{height:"60vh !important"}},at={key:1},it={style:{position:"sticky !important",top:"72px","z-index":"2 !important"},class:"bg-white px-5 py-3 mb-5 border-round-xl flex align-items-center justify-content-between shadow-2"},nt={class:"flex"},dt={key:0,class:"flex flex-column text-xl mr-4"},ct={key:0},rt={class:"flex"},ut={class:"font-bold"},mt={key:1},_t={class:"font-bold"},pt={key:0,class:"flex flex-column text-xl mx-4"},vt={class:"font-bold"},bt={class:"grid"},ht={class:"col-7"},ft={class:"p-3 bg-white border-round-xl shadow-2"},gt={class:"flex flex-column gap-3"},yt={key:0},xt={class:"text-2xl font-bold"},kt={key:0},wt=e("div",{class:"material-icons cursor-pointer"},"playlist_add",-1),St=[wt],Lt={class:"flex flex-column px-3 mt-4"},Tt={key:0},It={key:0},Dt=["id"],Nt=["onClick"],Ct=e("i",{class:"pi pi-eye"},null,-1),Rt={key:1},zt={key:1},Et={class:"col-5"},jt={style:{position:"sticky !important",top:"145px !important",height:"75vh !important"},class:"flex flex-column gap-4 overflow-scroll p-1"},Mt={class:"bg-white border-round-xl shadow-2"},Ft={class:"p-3"},Bt={class:"flex align-items-center justify-content-between"},$t=e("div",{class:"text-xl font-bold text-primary"},"Activity",-1),Pt={class:"p-inputgroup"},Vt={class:"flex flex-column gap-1 mb-6"},At={class:"text-sm text-900"},Ot={key:0},Ut={class:"text-sm text-900 ml-2"},qt=e("p",{class:"m-0 mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ",-1),Wt={class:"bg-white border-round-xl shadow-2"},Gt={class:"p-3"},Ht={class:"flex justify-content-between align-items-center text-xl font-bold text-primary"},Jt=e("div",null,"Files",-1),Kt={class:"mt-5 flex flex-column gap-2 text-700"},Qt=e("div",{class:"text-lg font-bold"},"Upload files",-1),Xt=e("div",{class:""},"only .jpg and .png files. 5 MB max file size.",-1),Yt={key:0},Zt={key:0},es={class:"border-round border-1 border-orange-300 p-2 flex align-items-center justify-content-between"},ts={class:"flex align-items-center gap-3"},ss={href:"javascript: void(0);"},ls={class:"text-700"},os=e("div",{class:"text-orange-500"},"Pending",-1),as=["onClick"],is={class:"border-round border-1 border-300 p-2 flex align-items-center justify-content-between"},ns={class:"flex align-items-center gap-3"},ds={href:"javascript: void(0);"},cs={class:"text-700"},rs=["onClick"],us=e("div",{class:"bg-white border-round-xl shadow-2"},[e("div",{class:"p-3 h-15rem"},[e("div",{class:"text-xl font-bold text-primary"},"Reminders")])],-1),ms={__name:"ShowDetail",setup(f){const T=z(()=>E(()=>import("./DynamicDataTableMain-4b742b25.js"),["assets/DynamicDataTableMain-4b742b25.js","assets/index-65928da5.js","assets/index-d1288d3d.css","assets/DynamicDataTableMain-e7a754e3.css"])),b=z(()=>E(()=>import("./SalesTab-9c7ecde1.js"),["assets/SalesTab-9c7ecde1.js","assets/index-65928da5.js","assets/index-d1288d3d.css","assets/index-be372700.js"])),j=z(()=>E(()=>import("./ServicesTab-35c68d76.js"),["assets/ServicesTab-35c68d76.js","assets/index-65928da5.js","assets/index-d1288d3d.css","assets/index-be372700.js"])),p=z(()=>E(()=>import("./RelatedListPanel-ce6d8365.js"),["assets/RelatedListPanel-ce6d8365.js","assets/index-65928da5.js","assets/index-d1288d3d.css","assets/index-be372700.js","assets/DataTableLoader-3261d7f8.js"])),I=z(()=>E(()=>import("./SectionFields-e33dad37.js"),["assets/SectionFields-e33dad37.js","assets/index-65928da5.js","assets/index-d1288d3d.css","assets/index-be372700.js"])),U=z(()=>E(()=>import("./UploadFileContent-75b7354a.js"),["assets/UploadFileContent-75b7354a.js","assets/index-65928da5.js","assets/index-d1288d3d.css","assets/DataTableLoader-3261d7f8.js","assets/index-be372700.js","assets/UploadFileContent-bb5410c6.css"])),V=c(),q=ue(),M=c(0),v=Oe();Ue();const W=c(!0),w=c(),S=c(),_e=c();c();const Q=c(),X=c(),Y=c(),Z=me(),ee=Je(),te=lt(),{fetchModule:pe,fetchBaseModule:ve}=Z,{getModule:be,getBaseModule:he,getFieldDetailsById:_s}=P(Z),{itemLoading:fe,relatedListLoading:ps,getItem:vs,getRelatedLists:se,_getRelatedOrderedLists:ge,getRelatedListsByCname:k,getItemPanels:G,getItemValueByName:A}=P(ee),{fetchItem:ye,fetchItemRelatedList:xe,fetchItemRelatedLists:ke}=ee,{fileLoading:bs,fileDialogSwitch:we,fileDialog:le,getFiles:H,getModuleFiles:O}=P(te),{addModuleFiles:Se}=te,Le=c([{label:`${v.params.name}`,to:`/modules/${v.params.name}/${v.params.id}`},{label:`${v.params.name} details`,to:null}]),Te=c([{label:"Options",items:[{label:"Add files",icon:"pi pi-plus",command:()=>{we.value=!0,le.value=!0,console.log(le.value)}}]}]),Ie=a=>{M.value=a.index},oe=async a=>{const d={moduleName:v.params.name,panelName:a.panelName};await xe(d)},De=a=>{if(a){const d=a.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&d.right<=(window.innerWidth||document.documentElement.clientWidth)}},ae=()=>{G.value.map(a=>{const d=document.getElementById(`rl-panel-${a._id}`);De(d)&&(console.log(`Element with ${a._id} id is visible`),oe(a))})},Ne=async a=>{const d=a.files,D=[],N=H.value.length>0?H.value[H.value.length-1]:0;d.map(C=>{let F=Object.assign({},{id:N+1,label:C.name,date:Date.now(),size:C.size,type:C.type,selected:!1});D.push(F)}),Se(D),q.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},Ce=a=>{console.log(a)},Re=a=>{const d=O.value.findIndex(D=>D.id===a.id);O.value.splice(d,1)};return qe(se,(a,d)=>{a&&(Q.value=a)}),We(async()=>{await ve(v.params.id),await pe(v.params.name),await ye(v.params),await ke(v.params),W.value=fe.value,w.value=he.value,S.value=be.value,_e.value=G.value,Q.value=se.value,X.value=G.value.filter(a=>a.controllerMethod.includes("@index")),Y.value=ge.value.filter(a=>a.entityName==="Contact"||a.entityName==="Unit"),window.addEventListener("scroll",ae),ae()}),(a,d)=>{const D=_("ProgressSpinner"),N=_("Button"),C=_("Panel"),F=_("TabPanel"),ze=_("TabView"),Ee=_("Dropdown"),ie=_("font-awesome-icon"),je=_("Menu"),ne=_("Image"),Me=_("FileUpload");return t(),l("div",null,[o(st,{bcrumbs:Le.value},null,8,["bcrumbs"]),W.value?(t(),l("div",ot,[o(D)])):(t(),l("div",at,[e("div",it,[e("div",nt,[(t(!0),l(y,null,x(S.value.fields,(s,h)=>(t(),l("div",{key:h},[e("div",{class:K(`${S.value.fields.length===h+1&&"mr-8"}`)},[s.title?(t(),l("div",dt,[s.groupWith?(t(),l("div",ct,[e("div",null,r(s.groupLabel),1),e("div",rt,[(t(!0),l(y,null,x(s.groupWith,(g,B)=>(t(),l("div",{key:B},[e("div",ut,r(n(A)(g))+r(s.fieldGlue===" "?"Â ":s.fieldGlue),1)]))),128))])])):(t(),l("div",mt,[e("div",null,r(s.label),1),e("div",_t,r(n(A)(s.name)),1)]))])):u("",!0)],2)]))),128)),(t(!0),l(y,null,x(S.value.fields,(s,h)=>(t(),l("div",{key:h},[s.header?(t(),l("div",pt,[e("div",null,r(s.label),1),e("div",vt,r(n(A)(s.name)?n(A)(s.name):null),1)])):u("",!0)]))),128))]),e("div",null,[o(N,{label:"Edit",size:"large",class:"px-6 border-round-xl"})])]),e("div",bt,[e("div",ht,[e("div",ft,[o(ze,{onTabChange:Ie},{default:i(()=>[o(F,{header:"Details"},{default:i(()=>[e("div",null,[e("div",gt,[(t(!0),l(y,null,x(X.value,(s,h)=>(t(),l("div",{key:h,class:"flex flex-column gap-1"},[(t(!0),l(y,null,x(s.sections,(g,B)=>(t(),l("div",{key:B,class:"shadow-1 mt-4"},[o(C,{class:"detail-page-panel"},{header:i(()=>[g.sectionLabel?(t(),l("div",yt,[e("div",xt,r(g.sectionLabel),1),n(k)(s.panelName)?(t(),l("div",kt,St)):u("",!0)])):u("",!0)]),default:i(()=>[e("div",Lt,[s.controllerMethod.indexOf("@show")>-1?(t(),l("div",Tt,[n(k)(s.panelName)?(t(),l("div",It,[n(k)(s.panelName)?(t(),L($,{key:0},{fallback:i(()=>[o(He)]),default:i(()=>[o(n(T),{moduleId:s._id,moduleEntityName:s.entityName,moduleName:n(k)(s.panelName).link,moduleLabel:n(k)(s.panelName).label,fields:n(k)(s.panelName).fields.data,data:n(k)(s.panelName).collection.data,pagination:n(k)(s.panelName).collection.meta,collectionLoading:!1},null,8,["moduleId","moduleEntityName","moduleName","moduleLabel","fields","data","pagination"])]),_:2},1024)):u("",!0)])):(t(),l("div",{key:1,id:`rl-panel-${s._id}`},[e("div",{onClick:m=>oe(s),class:"flex align-items-center gap-2 cursor-pointer text-700"},[Ct,Ge(" View data ")],8,Nt)],8,Dt))])):(t(),l("div",Rt,[g.field_ids.length>0?(t(),L($,{key:0},{fallback:i(()=>[o(de)]),default:i(()=>[o(n(I),{fieldIds:g.field_ids},null,8,["fieldIds"])]),_:2},1024)):u("",!0),g.additional_fields.length>0?(t(),l("div",zt,[(t(!0),l(y,null,x(g.additional_fields,(m,R)=>(t(),l("div",{key:R},[m.ids.length>0?(t(),L($,{key:0},{fallback:i(()=>[o(de)]),default:i(()=>[o(n(I),{fieldIds:m.ids},null,8,["fieldIds"])]),_:2},1024)):u("",!0)]))),128))])):u("",!0)]))])]),_:2},1024)]))),128))]))),128)),o(n(p),{relatedLists:Y.value},null,8,["relatedLists"])])])]),_:1}),w.value&&w.value.name==="accounts"?(t(),L(F,{key:0,header:"Sales"},{default:i(()=>[e("div",null,[M.value===1?(t(),L($,{key:0},{fallback:i(()=>[o(ce,{class:"mt-4"})]),default:i(()=>[o(n(b))]),_:1})):u("",!0)])]),_:1})):u("",!0),w.value&&w.value.name==="accounts"?(t(),L(F,{key:1,header:"Services"},{default:i(()=>[e("div",null,[M.value===2?(t(),L($,{key:0},{fallback:i(()=>[o(ce,{class:"mt-4"})]),default:i(()=>[o(n(j))]),_:1})):u("",!0)])]),_:1})):u("",!0)]),_:1})])]),e("div",Et,[e("div",jt,[e("div",Mt,[e("div",Ft,[e("div",Bt,[$t,e("div",null,[e("div",Pt,[o(Ee,{placeholder:"Filters",class:"border-round-xl border-primary w-full md:w-12rem"}),o(N,{label:"add activity",class:"ml-3 border-round-xl px-4"})])])])]),e("div",Vt,[(t(),l(y,null,x(["October 2023","November 2023","December 2023"],(s,h)=>o(C,{key:h,toggleable:"",collapsed:"",class:"activity-panel"},{header:i(()=>[e("div",At,[h===0?(t(),l("span",Ot,"This months")):u("",!0)])]),togglericon:i(()=>[o(ie,{icon:"fa-solid fa-caret-down",style:{"font-size":"1.5rem"}})]),icons:i(()=>[e("div",Ut,r(s),1)]),default:i(()=>[qt]),_:2},1024)),64))])]),e("div",Wt,[e("div",Gt,[e("div",Ht,[Jt,e("div",null,[e("div",{onClick:d[0]||(d[0]=s=>V.value.toggle(s)),class:"cursor-pointer"},[o(ie,{icon:"fa-regular fa-square-caret-down",style:{"font-size":"1.5rem"}})]),o(je,{ref_key:"fileMenu",ref:V,id:"overlay_menu",model:Te.value,popup:!0},null,8,["model"])])]),e("div",Kt,[Qt,Xt,e("div",null,[o(Me,{name:"demo[]",url:"/api/upload",customUpload:"",onUploader:d[1]||(d[1]=s=>Ne(s)),onError:d[2]||(d[2]=s=>Ce(s)),multiple:!0,accept:"image/*",maxFileSize:5e6},{empty:i(()=>[n(O).length<=0?(t(),l("p",Yt,"Drag and drop files to here to upload.")):u("",!0)]),content:i(({files:s,uploadedFiles:h,removeUploadedFileCallback:g,removeFileCallback:B})=>[s.length>0?(t(),l("div",Zt,[(t(!0),l(y,null,x(s,(m,R)=>(t(),l("div",{key:R,class:"mb-2"},[e("div",es,[e("div",ts,[o(ne,{src:"/demo/images/galleria/galleria6s.jpg",alt:"dummy-img",width:"50",class:"cursor-pointer"}),e("div",null,[e("a",ss,r(m.name),1),e("div",ls,r(Date.now())+" â¢ "+r(m.size)+" â¢ "+r(m.type),1),os])]),e("div",{onClick:Fe=>B(R),class:"cursor-pointer mr-2"},[o(N,{icon:"pi pi-times",severity:"danger",text:"",rounded:"","aria-label":"Cancel"})],8,as)])]))),128))])):u("",!0),(t(!0),l(y,null,x(n(O),(m,R)=>(t(),l("div",{key:R,class:"mb-2"},[e("div",is,[e("div",ns,[o(ne,{src:"/demo/images/galleria/galleria6s.jpg",alt:"dummy-img",width:"50",class:"cursor-pointer"}),e("div",null,[e("a",ds,r(m.label),1),e("div",cs,r(m.date)+" â¢ "+r(m.size)+" â¢ "+r(m.type),1)])]),e("div",{onClick:Fe=>Re(m),class:"cursor-pointer mr-2"},[o(N,{icon:"pi pi-times",severity:"danger",text:"",rounded:"","aria-label":"Cancel"})],8,rs)])]))),128))]),_:1})])])])]),us])])])])),o(n(U),{module:S.value},null,8,["module"])])}}},ys=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"}));export{ys as S,lt as u};
