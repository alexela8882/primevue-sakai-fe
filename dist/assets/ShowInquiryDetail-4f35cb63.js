import{J as Q,u as U,r as c,v as X,s as L,z as Y,c as m,o as s,j as l,f as r,i as o,e,F as p,k as h,n as Z,t as a,m as g,w as _}from"./index-640f128e.js";import{R as ee}from"./RdBreadCrumbs-a0b3d23a.js";import{u as te}from"./index-147e4120.js";const se={key:0,class:"flex align-items-center justify-content-center",style:{height:"60vh !important"}},le={key:1},ae={style:{position:"sticky !important",top:"72px","z-index":"2 !important"},class:"bg-white px-5 py-3 mb-5 border-round-xl flex align-items-center justify-content-between shadow-2"},oe={key:0,class:"flex"},ne={key:0,class:"flex flex-column text-xl mr-4"},ie={key:0},de={class:"flex"},ce={class:"font-bold"},re={key:1},ue={class:"font-bold"},_e={key:0,class:"flex flex-column text-xl mx-4"},ve={class:"font-bold"},me={class:"grid"},pe={class:"col-7"},he={class:"p-3 bg-white border-round-xl shadow-2"},ge={class:"flex flex-column gap-4"},fe=e("div",{class:"flex align-items-center gap-2"},[e("span",{class:"text-2xl font-bold"},"Inquiry details")],-1),xe={class:"mt-4"},be={class:"col flex align-items-center gap-4"},ye={class:"white-space-nowrap"},ke={style:{width:"40% !important"},class:"white-space-nowrap overflow-hidden text-overflow-ellipsis"},we=e("div",{class:"flex align-items-center gap-2"},[e("span",{class:"text-2xl font-bold"},"Email Thread")],-1),De=e("div",{class:"mt-4"}," Thread here... ",-1),Me={style:{position:"sticky !important",top:"145px !important",height:"75vh !important"},class:"col-5"},Ie={key:0,class:"bg-white border-round-xl shadow-2"},Se={class:"p-3"},Be={class:"col flex align-items-center gap-4"},Le={class:"white-space-nowrap"},Ve={__name:"ShowInquiryDetail",setup(Ce){const i=Q(),C=U(),R=c([{label:`${i.params.name}`,to:`/modules/${i.params.name}/${i.params.id}`},{label:`${i.params.name} details`,to:null}]),v=c(),u=c({}),k=c(),f=c(),y=c(),d=c(),w=X(),D=te(),{getEntity:T,getModule:P,getModules:V,getLinkedModuleData:$,getCollectionById:j,_getFieldDetails:M,getFieldDetails:I}=L(w),{getItemValueByName:x,moduleLoading:E}=L(D),{fetchModule:N,fetchLinkedModuleData:z,_fetchModule:F}=w,{fetchItem:q}=D,G=async()=>{d.value=T.value(u.value.type_id);const S=d.value.name;await z(S,{link_field:"_id",link_id:u.value.link_id}),y.value=$.value,f.value=await F(d.value.name),k.value=V.value.find(b=>b.name==d.value.name)};return Y(async()=>{await N(i.params.name),await q(i.params),v.value=P.value,u.value=j.value(i.params.pageid),await G()}),(S,b)=>{const O=m("ProgressSpinner"),W=m("Button"),B=m("Panel"),J=m("TabPanel"),A=m("TabView");return s(),l("div",null,[r(ee,{bcrumbs:R.value},null,8,["bcrumbs"]),o(E)?(s(),l("div",se,[r(O)])):(s(),l("div",le,[e("div",ae,[v.value?(s(),l("div",oe,[(s(!0),l(p,null,h(v.value.fields,(t,n)=>(s(),l("div",{key:n},[e("div",{class:Z(`${v.value.fields.length===n+1&&"mr-8"}`)},[t.title?(s(),l("div",ne,[t.groupWith?(s(),l("div",ie,[e("div",null,a(t.groupLabel),1),e("div",de,[(s(!0),l(p,null,h(t.groupWith,(H,K)=>(s(),l("div",{key:K},[e("div",ce,a(o(x)(H))+a(t.fieldGlue===" "?"Â ":t.fieldGlue),1)]))),128))])])):(s(),l("div",re,[e("div",null,a(t.label),1),e("div",ue,a(o(x)(t.name)),1)]))])):g("",!0)],2)]))),128)),(s(!0),l(p,null,h(v.value.fields,(t,n)=>(s(),l("div",{key:n},[t.header?(s(),l("div",_e,[e("div",null,a(t.label),1),e("div",ve,a(o(x)(t.name)?o(x)(t.name):null),1)])):g("",!0)]))),128))])):g("",!0),e("div",null,[r(W,{label:"Edit",size:"large",class:"px-6 border-round-xl"})])]),e("div",me,[e("div",pe,[e("div",he,[r(A,null,{default:_(()=>[r(J,{header:"Details"},{default:_(()=>[e("div",ge,[r(B,{class:"detail-page-panel"},{header:_(()=>[fe]),default:_(()=>[e("div",xe,[(s(!0),l(p,null,h(Object.keys(u.value),(t,n)=>(s(),l("div",{key:n,class:"grid"},[e("div",be,[e("div",null,[e("p",ye,a(o(I)(t)?o(I)(t).label:"ID"),1)]),e("div",ke,a(u.value[t]),1)])]))),128))])]),_:1}),r(B,{class:"detail-page-panel"},{header:_(()=>[we]),default:_(()=>[De]),_:1})])]),_:1})]),_:1})])]),e("div",Me,[d.value?(s(),l("div",Ie,[e("div",{onClick:b[0]||(b[0]=t=>o(C).push({name:"modules.pages.detail",params:{name:d.value.name,id:k.value._id,pageid:u.value.link_id}})),class:"cursor-pointer p-3 border-round-top-xl text-2xl bg-primary-300 text-50"},a(d.value.label),1),e("div",Se,[f.value?(s(!0),l(p,{key:0},h(Object.keys(y.value),(t,n)=>(s(),l("div",{key:n,class:"grid"},[e("div",Be,[e("div",null,[e("p",Le,a(o(M)({module:f.value,field:t})?o(M)({module:f.value,field:t}).label:"ID"),1)]),e("div",null,a(y.value[t]),1)])]))),128)):g("",!0)])])):g("",!0)])])]))])}}};export{Ve as default};
