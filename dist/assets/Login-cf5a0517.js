import{D as B,r as f,a as P,x as j,u as A,I as M,c as d,o as v,j as g,e as s,f as r,l as y,n as w,t as h,m as S,w as k,q as I,E as T,G as z}from"./index-5d4b1b48.js";const i=c=>(T("data-v-fbbd2117"),c=c(),z(),c),K={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},N={class:"flex flex-column align-items-center justify-content-center"},R={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},U={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},D=i(()=>s("div",{class:"text-center mb-5"},[s("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome to Reddot"),s("span",{class:"text-600 font-medium"},"Sign in to continue")],-1)),q={class:"flex flex-column gap-2 mb-5"},F=i(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Email",-1)),G={key:0,class:"text-red-600"},W={class:"flex flex-column gap-2 mb-5"},H=i(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Password",-1)),J={key:0,class:"text-red-600"},O={class:"flex align-items-center justify-content-between mb-5 gap-5"},Q={class:"flex align-items-center"},X=i(()=>s("label",{for:"rememberme1"},"Remember me",-1)),Y=i(()=>s("a",{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},"Forgot password?",-1)),Z=i(()=>s("div",{class:"mr-2"},"Saml Login",-1)),ee=i(()=>s("div",{class:"mr-2"},"Microsoft Login",-1)),se={__name:"Login",setup(c){const o=f(!1),u=P(),{layoutConfig:V}=j(),_=A(),t=f({email:{value:null,error:null},password:{value:null,error:null}}),x=f(!1);localStorage.getItem("isAuthenticated");const m=async()=>{o.value=!0,t.value.email.error=null,t.value.password.error=null;const a=t.value.email.value,e=t.value.password.value;(a===""||a===null)&&(t.value.email.error="Enter your email"),(e===""||e===null)&&(t.value.password.error="Enter your password"),await I.post("/login",{email:a,password:e}).then(n=>{localStorage.clear(),localStorage.setItem("token",n.data.data.token),localStorage.setItem("auth_id",n.data.data._id),localStorage.setItem("isAuthenticated",!0),_.push({path:"/"}),o.value=!1,u.add({severity:"success",summary:"Success",detail:n.data.message,life:3e3})}).catch(n=>{n&&(console.log(n),u.add({severity:"error",summary:"Error",detail:n.response.data.message,life:3e3})),o.value=!1})},C=async()=>{await I.post("/saml-login").then(a=>{localStorage.clear(),localStorage.setItem("token",a.data.data.token),localStorage.setItem("auth_id",a.data.data._id),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("SAMLauth",!0),u.add({severity:"success",summary:"Success",detail:"Microsoft login successful",life:3e3}),_.push("/")}).catch(a=>{a&&(console.log(a),u.add({severity:"error",summary:"Error",detail:a.response.data.message,life:3e3})),o.value=!1})},L=async()=>{window.location.href="https://api.reddotcrm.com/saml2/5e7cfe07-5de3-407d-9b26-0f42143d3ab7/login"};return M(()=>`layout/images/${V.darkTheme.value?"logo-white":"logo-dark"}.svg`),(a,e)=>{const n=d("InputText"),E=d("Password"),$=d("Checkbox"),p=d("Button"),b=d("font-awesome-icon");return v(),g("div",K,[s("div",N,[s("div",R,[s("div",U,[D,s("div",null,[s("div",q,[F,r(n,{onKeypress:e[0]||(e[0]=y(l=>m(),["enter"])),disabled:o.value,type:"text",placeholder:"Email address",class:w(["w-full md:w-30rem",`${t.value.email.error&&"p-invalid"}`]),style:{padding:"1rem"},modelValue:t.value.email.value,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.email.value=l)},null,8,["disabled","class","modelValue"]),t.value.email.error?(v(),g("small",G,h(t.value.email.error),1)):S("",!0)]),s("div",W,[H,r(E,{onKeypress:e[2]||(e[2]=y(l=>m(),["enter"])),disabled:o.value,modelValue:t.value.password.value,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.password.value=l),placeholder:"Password",toggleMask:!0,class:w(["w-full",`${t.value.password.error&&"p-invalid"}`]),inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["disabled","modelValue","class"]),t.value.password.error?(v(),g("small",J,h(t.value.password.error),1)):S("",!0)]),s("div",O,[s("div",Q,[r($,{disabled:o.value,modelValue:x.value,"onUpdate:modelValue":e[4]||(e[4]=l=>x.value=l),id:"rememberme1",binary:"",class:"mr-2"},null,8,["disabled","modelValue"]),X]),Y]),r(p,{loading:o.value,onClick:e[5]||(e[5]=l=>m()),label:`${o.value?"Signing in...":"Sign In"}`,class:"w-full p-3 text-xl mb-5"},null,8,["loading","label"]),r(p,{onClick:e[6]||(e[6]=l=>C()),class:"w-full p-3 text-xl",severity:"success"},{icon:k(()=>[Z,r(b,{icon:"fa-brands fa-microsoft",style:{"font-size":"1.2rem"}})]),_:1}),r(p,{onClick:e[7]||(e[7]=l=>L()),class:"w-full p-3 text-xl",severity:"success"},{icon:k(()=>[ee,r(b,{icon:"fa-brands fa-microsoft",style:{"font-size":"1.2rem"}})]),_:1})])])])])])}}},ae=B(se,[["__scopeId","data-v-fbbd2117"]]);export{ae as default};
