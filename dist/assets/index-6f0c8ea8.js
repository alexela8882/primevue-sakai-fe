import{M as m,a as f,r as c,v as d,q as r}from"./index-62853e10.js";const _=m("activityLogStore",()=>{const u=f();c("http://localhost:3000"),c("http://localhost/api");const v=c([]),e=c([]),l=d(()=>v.value),o=d(()=>e.value);return{saveActivityLog:async s=>{const i=s.be_nec.uri,a=s.be_nec.method,t=await r(i,{method:a,headers:{"Content-Type":"application/json"},data:s.fields});if(t&&t.status===200){if(e.value&&e.value.length<=0)e.value=t.data.data;else{const y=t.data.data&&t.data.data[0].date,g=t.data.data&&t.data.data[0].items[0],n=o.value.findIndex(h=>h.date===y);o.value[n].count++,o.value[n].items.push(g)}return u.add({severity:"success",summary:"Success Message",detail:t.data.message,life:3e3}),a}},fetchActivityLogsByRecord:async s=>{const i=`/activity-logs/by-record/${s}`,a=await r(i,{method:"GET",headers:{"Content-Type":"application/json"}});if(a&&a.status===200)return e.value=a.data.data,a.data},getActivityLogs:l,getActivityLogsByRecord:o}});export{_ as u};
