import{D as L,r as p,a as $,x as B,u as P,I as j,c as d,o as v,j as f,e as s,f as r,l as y,n as w,t as b,m as h,w as A,q as S,E as M,G as T}from"./index-813bee01.js";const i=u=>(M("data-v-5a247a5c"),u=u(),T(),u),K={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},N={class:"flex flex-column align-items-center justify-content-center"},R={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},U={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},z=i(()=>s("div",{class:"text-center mb-5"},[s("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome to Reddot"),s("span",{class:"text-600 font-medium"},"Sign in to continue")],-1)),D={class:"flex flex-column gap-2 mb-5"},q=i(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Email",-1)),F={key:0,class:"text-red-600"},G={class:"flex flex-column gap-2 mb-5"},W=i(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Password",-1)),H={key:0,class:"text-red-600"},J={class:"flex align-items-center justify-content-between mb-5 gap-5"},O={class:"flex align-items-center"},Q=i(()=>s("label",{for:"rememberme1"},"Remember me",-1)),X=i(()=>s("a",{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},"Forgot password?",-1)),Y=i(()=>s("div",{class:"mr-2"},"Microsoft Login",-1)),Z={__name:"Login",setup(u){const l=p(!1),c=$(),{layoutConfig:k}=B(),g=P(),a=p({email:{value:null,error:null},password:{value:null,error:null}}),_=p(!1);localStorage.getItem("isAuthenticated");const m=async()=>{l.value=!0,a.value.email.error=null,a.value.password.error=null;const t=a.value.email.value,e=a.value.password.value;(t===""||t===null)&&(a.value.email.error="Enter your email"),(e===""||e===null)&&(a.value.password.error="Enter your password"),await S.post("/login",{email:t,password:e}).then(o=>{localStorage.clear(),localStorage.setItem("token",o.data.data.token),localStorage.setItem("auth_id",o.data.data._id),localStorage.setItem("isAuthenticated",!0),g.push({path:"/"}),l.value=!1,c.add({severity:"success",summary:"Success",detail:o.data.message,life:3e3})}).catch(o=>{o&&(console.log(o),c.add({severity:"error",summary:"Error",detail:o.response.data.message,life:3e3})),l.value=!1})},I=async()=>{await S.post("/saml-login").then(t=>{localStorage.clear(),localStorage.setItem("token",t.data.data.token),localStorage.setItem("auth_id",t.data.data._id),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("SAMLauth",!0),c.add({severity:"success",summary:"Success",detail:"Microsoft login successful",life:3e3}),g.push("/")}).catch(t=>{t&&(console.log(t),c.add({severity:"error",summary:"Error",detail:t.response.data.message,life:3e3})),l.value=!1})};return j(()=>`layout/images/${k.darkTheme.value?"logo-white":"logo-dark"}.svg`),(t,e)=>{const o=d("InputText"),V=d("Password"),C=d("Checkbox"),x=d("Button"),E=d("font-awesome-icon");return v(),f("div",K,[s("div",N,[s("div",R,[s("div",U,[z,s("div",null,[s("div",D,[q,r(o,{onKeypress:e[0]||(e[0]=y(n=>m(),["enter"])),disabled:l.value,type:"text",placeholder:"Email address",class:w(["w-full md:w-30rem",`${a.value.email.error&&"p-invalid"}`]),style:{padding:"1rem"},modelValue:a.value.email.value,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.email.value=n)},null,8,["disabled","class","modelValue"]),a.value.email.error?(v(),f("small",F,b(a.value.email.error),1)):h("",!0)]),s("div",G,[W,r(V,{onKeypress:e[2]||(e[2]=y(n=>m(),["enter"])),disabled:l.value,modelValue:a.value.password.value,"onUpdate:modelValue":e[3]||(e[3]=n=>a.value.password.value=n),placeholder:"Password",toggleMask:!0,class:w(["w-full",`${a.value.password.error&&"p-invalid"}`]),inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["disabled","modelValue","class"]),a.value.password.error?(v(),f("small",H,b(a.value.password.error),1)):h("",!0)]),s("div",J,[s("div",O,[r(C,{disabled:l.value,modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=n=>_.value=n),id:"rememberme1",binary:"",class:"mr-2"},null,8,["disabled","modelValue"]),Q]),X]),r(x,{loading:l.value,onClick:e[5]||(e[5]=n=>m()),label:`${l.value?"Signing in...":"Sign In"}`,class:"w-full p-3 text-xl mb-5"},null,8,["loading","label"]),r(x,{onClick:e[6]||(e[6]=n=>I()),class:"w-full p-3 text-xl",severity:"success"},{icon:A(()=>[Y,r(E,{icon:"fa-brands fa-microsoft",style:{"font-size":"1.2rem"}})]),_:1})])])])])])}}},ae=L(Z,[["__scopeId","data-v-5a247a5c"]]);export{ae as default};
