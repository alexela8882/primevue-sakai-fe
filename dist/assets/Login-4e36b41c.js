import{D as $,r as m,a as L,x as B,u as P,I as j,c as i,o as p,j as v,e as s,f as n,l as x,n as w,t as b,m as y,w as T,q as U,E as K,G as N}from"./index-9fb1c987.js";const z="/demo/images/login/avatar.png";const r=d=>(K("data-v-5a5eacf1"),d=d(),N(),d),A={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},D={class:"flex flex-column align-items-center justify-content-center"},M=["src"],R={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},q={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},F=r(()=>s("div",{class:"text-center mb-5"},[s("img",{src:z,alt:"Image",height:"50",class:"mb-3"}),s("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome, Isabel!"),s("span",{class:"text-600 font-medium"},"Sign in to continue")],-1)),G={class:"flex flex-column gap-2 mb-5"},W=r(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Email",-1)),H={key:0,class:"text-red-600"},J={class:"flex flex-column gap-2 mb-5"},O=r(()=>s("label",{for:"email1",class:"block text-900 text-xl font-medium"},"Password",-1)),Q={key:0,class:"text-red-600"},X={class:"flex align-items-center justify-content-between mb-5 gap-5"},Y={class:"flex align-items-center"},Z=r(()=>s("label",{for:"rememberme1"},"Remember me",-1)),ee=r(()=>s("a",{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},"Forgot password?",-1)),se=r(()=>s("div",{class:"mr-2"},"Microsoft Login",-1)),ae={__name:"Login",setup(d){const t=m(!1),f=L(),{layoutConfig:h}=B(),k=P(),a=m({email:{value:null,error:null},password:{value:null,error:null}}),_=m(!1);localStorage.getItem("isAuthenticated");const u=async()=>{t.value=!0,a.value.email.error=null,a.value.password.error=null;const c=a.value.email.value,e=a.value.password.value;(c===""||c===null)&&(a.value.email.error="Enter your email"),(e===""||e===null)&&(a.value.password.error="Enter your password"),await U.post("/login",{email:c,password:e}).then(l=>{localStorage.clear(),localStorage.setItem("token",l.data.data.token),localStorage.setItem("auth_id",l.data.data._id),localStorage.setItem("isAuthenticated",!0),k.push({path:"/"}),t.value=!1,f.add({severity:"success",summary:"Success",detail:l.data.message,life:3e3})}).catch(l=>{l&&(console.log(l),f.add({severity:"error",summary:"Error",detail:l.response.data.message,life:3e3})),t.value=!1})},S=async()=>{window.location.href="https://api.reddotcrm.com/saml2/5e7cfe07-5de3-407d-9b26-0f42143d3ab7/login"},I=j(()=>`layout/images/${h.darkTheme.value?"logo-white":"logo-dark"}.svg`);return(c,e)=>{const l=i("InputText"),V=i("Password"),C=i("Checkbox"),g=i("Button"),E=i("font-awesome-icon");return p(),v("div",A,[s("div",D,[s("img",{src:I.value,alt:"Sakai logo",class:"mb-5 w-6rem flex-shrink-0"},null,8,M),s("div",R,[s("div",q,[F,s("div",null,[s("div",G,[W,n(l,{onKeypress:e[0]||(e[0]=x(o=>u(),["enter"])),disabled:t.value,type:"text",placeholder:"Email address",class:w(["w-full md:w-30rem",`${a.value.email.error&&"p-invalid"}`]),style:{padding:"1rem"},modelValue:a.value.email.value,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.email.value=o)},null,8,["disabled","class","modelValue"]),a.value.email.error?(p(),v("small",H,b(a.value.email.error),1)):y("",!0)]),s("div",J,[O,n(V,{onKeypress:e[2]||(e[2]=x(o=>u(),["enter"])),disabled:t.value,modelValue:a.value.password.value,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.password.value=o),placeholder:"Password",toggleMask:!0,class:w(["w-full",`${a.value.password.error&&"p-invalid"}`]),inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["disabled","modelValue","class"]),a.value.password.error?(p(),v("small",Q,b(a.value.password.error),1)):y("",!0)]),s("div",X,[s("div",Y,[n(C,{disabled:t.value,modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=o=>_.value=o),id:"rememberme1",binary:"",class:"mr-2"},null,8,["disabled","modelValue"]),Z]),ee]),n(g,{loading:t.value,onClick:e[5]||(e[5]=o=>u()),label:`${t.value?"Signing in...":"Sign In"}`,class:"w-full p-3 text-xl mb-5"},null,8,["loading","label"]),n(g,{onClick:e[6]||(e[6]=o=>S()),class:"w-full p-3 text-xl",severity:"success"},{icon:T(()=>[se,n(E,{icon:"fa-brands fa-microsoft",style:{"font-size":"1.2rem"}})]),_:1})])])])])])}}},oe=$(ae,[["__scopeId","data-v-5a5eacf1"]]);export{oe as default};
