import{I as O,J as S,r as _,K as U,s as j,E as R,G as C,c as p,o as n,j as l,i as m,e as t,f as r,m as d,F as G,k as J,w as a,d as y,a1 as b,t as u,n as z}from"./index-6d47cf9b.js";const K={class:"z-3 fixed bottom-0 right-0 mx-3 p-2 flex justify-content-end align-items-center"},M={key:0,class:"align-self-end mr-2"},q={style:{width:"35vw"}},H={class:"flex align-items-center gap-2 ml-2"},Q=t("div",{class:"material-icons",style:{"font-size":"12px"}},"open_in_full",-1),X=t("div",{class:"material-icons",style:{"font-size":"12px"}},"close",-1),Y=["onClick"],Z={class:"flex align-items-center gap-2 text-xl font-bold"},ee={key:0,class:"material-icons"},oe={key:2},ne={class:"flex align-items-center gap-2 text-xl font-bold"},te={key:0,class:"material-icons"},le={key:2},se={style:{height:"70vh !important"},class:"m-0 p-0 floating-window-content overflow-y-scroll overflow-x-hidden"},me={__name:"FloatingWindow",setup(ie){const V=O(()=>S(()=>import("./FloatingWindowContent-5cb8fbba.js"),["assets/FloatingWindowContent-5cb8fbba.js","assets/index-6d47cf9b.js","assets/index-cb49da02.css","assets/DataTableLoader-384107db.js"]));_();const v=_(),h=_([]),w=_([]),x=U(),{tabDialog:ae,xTabsLoading:B,getTabs:W,getWinTabs:k,getOpenedWinTabs:de}=j(x),{removeTab:$,toggleWindows:P,sortTabs:ce,maximizeTab:D,minimizeTab:F}=x,N=async o=>{await $(o)},A=o=>{console.log(o)},E=(o,i)=>{console.log(o.value),i.expanded=!o.value},I=async o=>{await D(o)};return R(async()=>{}),C(()=>v.value,async(o,i)=>{await P(o)}),C(W.value,(o,i)=>{h.value=o.filter(s=>s.style=="window");let g=h.value.filter(s=>s.opened).sort((s,f)=>s.opened_order-f.opened_order);w.value=g}),(o,i)=>{const g=p("Dropdown"),s=p("Button"),f=p("Panel"),L=p("BlockUI");return n(),l("div",K,[m(k).length>2?(n(),l("div",M,[t("div",null,[r(g,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=e=>v.value=e),options:m(k),optionLabel:"label",checkmark:"",highlightOnSelect:!1},null,8,["modelValue","options"])])])):d("",!0),(n(!0),l(G,null,J(w.value,(e,T)=>(n(),l("div",{class:"px-1 align-self-end",key:T},[r(L,{blocked:m(B)},{default:a(()=>[t("div",q,[r(f,{toggleable:"","onUpdate:collapsed":i[1]||(i[1]=c=>A(c)),onToggle:c=>E(c,e),collapsed:!e.expanded,class:"floating-window h-full shadow-4"},{icons:a(()=>[t("div",H,[r(s,{onClick:c=>I(e),text:"",rounded:""},{icon:a(()=>[Q]),_:2},1032,["onClick"]),r(s,{onClick:c=>N(e),text:"",rounded:""},{icon:a(()=>[X]),_:2},1032,["onClick"])])]),togglericon:a(()=>[r(s,{text:"",rounded:""},{icon:a(()=>[t("div",{onClick:c=>m(F)(e),class:"material-icons",style:{"font-size":"12px"}},"minimize",8,Y)]),_:2},1024)]),header:a(()=>[(n(),y(b,{to:`${e.maximized?".global-dialog-header":".hidden-div"}`},[t("div",Z,[e.type==="module-form"||e.type==="module"?(n(),l("div",ee,u(e.base_module.icon),1)):d("",!0),e.type==="static-form"?(n(),l("div",{key:1,class:z(`pi pi-${e.icon}`)},null,2)):d("",!0),t("div",null,u(e.label),1),e.type==="module-form"?(n(),l("div",oe,"(New)")):d("",!0)])],8,["to"])),t("div",ne,[e.type==="module-form"||e.type==="module"?(n(),l("div",te,u(e.base_module.icon),1)):d("",!0),e.type==="static-form"?(n(),l("div",{key:1,class:z(`pi pi-${e.icon}`)},null,2)):d("",!0),t("div",null,u(e.label),1),e.type==="module-form"?(n(),l("div",le,"(New)")):d("",!0)])]),default:a(()=>[t("div",se,[(n(),y(b,{disabled:!e.maximized,to:`${e.maximized?".fw-dialog-content":".hidden-div"}`},[(n(),y(m(V),{key:T,tab:e},null,8,["tab"]))],8,["disabled","to"]))])]),_:2},1032,["onToggle","collapsed"])])]),_:2},1032,["blocked"])]))),128))])}}};export{me as default};
